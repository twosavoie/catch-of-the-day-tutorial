{"ast":null,"code":"(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory(require(\"firebase/app\"));else if (typeof define === 'function' && define.amd) define([\"firebase/app\"], factory);else {\n    var a = typeof exports === 'object' ? factory(require(\"firebase/app\")) : factory(root[\"firebase/app\"]);\n    for (var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n  }\n})(this, function (__WEBPACK_EXTERNAL_MODULE_6__) {\n  return (/******/function (modules) {\n      // webpackBootstrap\n      /******/ // The module cache\n      /******/\n      var installedModules = {};\n\n      /******/ // The require function\n      /******/\n      function __webpack_require__(moduleId) {\n        /******/ // Check if module is in cache\n        /******/if (installedModules[moduleId]) /******/return installedModules[moduleId].exports;\n\n        /******/ // Create a new module (and put it into the cache)\n        /******/\n        var module = installedModules[moduleId] = {\n          /******/exports: {},\n          /******/id: moduleId,\n          /******/loaded: false\n          /******/\n        };\n\n        /******/ // Execute the module function\n        /******/\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n        /******/ // Flag the module as loaded\n        /******/\n        module.loaded = true;\n\n        /******/ // Return the exports of the module\n        /******/\n        return module.exports;\n        /******/\n      }\n\n      /******/ // expose the modules object (__webpack_modules__)\n      /******/\n      __webpack_require__.m = modules;\n\n      /******/ // expose the module cache\n      /******/\n      __webpack_require__.c = installedModules;\n\n      /******/ // __webpack_public_path__\n      /******/\n      __webpack_require__.p = \"\";\n\n      /******/ // Load entry module and return exports\n      /******/\n      return __webpack_require__(0);\n      /******/\n    }\n    /************************************************************************/\n    /******/([/* 0 */\n    /***/function (module, exports, __webpack_require__) {\n      module.exports = __webpack_require__(1);\n\n      /***/\n    }, /* 1 */\n    /***/function (module, exports, __webpack_require__) {\n      'use strict';\n\n      var _utils = __webpack_require__(2);\n      var _validators = __webpack_require__(5);\n      var _app = __webpack_require__(6);\n      var _app2 = _interopRequireDefault(_app);\n      var _push2 = __webpack_require__(7);\n      var _push3 = _interopRequireDefault(_push2);\n      var _fetch2 = __webpack_require__(8);\n      var _fetch3 = _interopRequireDefault(_fetch2);\n      var _post2 = __webpack_require__(9);\n      var _post3 = _interopRequireDefault(_post2);\n      var _sync2 = __webpack_require__(10);\n      var _sync3 = _interopRequireDefault(_sync2);\n      var _bind2 = __webpack_require__(11);\n      var _bind3 = _interopRequireDefault(_bind2);\n      var _update2 = __webpack_require__(12);\n      var _update3 = _interopRequireDefault(_update2);\n      var _reset2 = __webpack_require__(13);\n      var _reset3 = _interopRequireDefault(_reset2);\n      var _removeBinding2 = __webpack_require__(3);\n      var _removeBinding3 = _interopRequireDefault(_removeBinding2);\n      var _remove2 = __webpack_require__(14);\n      var _remove3 = _interopRequireDefault(_remove2);\n      var _fsSync2 = __webpack_require__(15);\n      var _fsSync3 = _interopRequireDefault(_fsSync2);\n      var _fsRemoveBinding2 = __webpack_require__(4);\n      var _fsRemoveBinding3 = _interopRequireDefault(_fsRemoveBinding2);\n      var _fsBind2 = __webpack_require__(16);\n      var _fsBind3 = _interopRequireDefault(_fsBind2);\n      var _fsGet2 = __webpack_require__(17);\n      var _fsGet3 = _interopRequireDefault(_fsGet2);\n      var _fsRemoveDoc2 = __webpack_require__(18);\n      var _fsRemoveDoc3 = _interopRequireDefault(_fsRemoveDoc2);\n      var _fsAddToCollection2 = __webpack_require__(19);\n      var _fsAddToCollection3 = _interopRequireDefault(_fsAddToCollection2);\n      var _fsRemoveFromCollection2 = __webpack_require__(20);\n      var _fsRemoveFromCollection3 = _interopRequireDefault(_fsRemoveFromCollection2);\n      var _fsUpdateDoc2 = __webpack_require__(21);\n      var _fsUpdateDoc3 = _interopRequireDefault(_fsUpdateDoc2);\n      var _fsReset2 = __webpack_require__(22);\n      var _fsReset3 = _interopRequireDefault(_fsReset2);\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      //database\n      module.exports = function () {\n        function init(db) {\n          return function () {\n            var refs = new Map();\n            var listeners = new Map();\n            var syncs = new WeakMap();\n            if (typeof db.ref === 'function') {\n              var rebase = {\n                initializedApp: db.app,\n                timestamp: _app2.default.database.ServerValue.TIMESTAMP,\n                listenTo: function listenTo(endpoint, options) {\n                  return _bind3.default.call(this, endpoint, options, 'listenTo', {\n                    db: db,\n                    refs: refs,\n                    listeners: listeners,\n                    syncs: syncs\n                  });\n                },\n                bindToState: function bindToState(endpoint, options) {\n                  return _bind3.default.call(this, endpoint, options, 'bindToState', {\n                    db: db,\n                    refs: refs,\n                    listeners: listeners\n                  });\n                },\n                syncState: function syncState(endpoint, options) {\n                  return _sync3.default.call(this, endpoint, options, {\n                    db: db,\n                    refs: refs,\n                    listeners: listeners,\n                    syncs: syncs\n                  });\n                },\n                fetch: function fetch(endpoint, options) {\n                  return (0, _fetch3.default)(endpoint, options, db);\n                },\n                post: function post(endpoint, options) {\n                  return (0, _post3.default)(endpoint, options, db);\n                },\n                update: function update(endpoint, options) {\n                  return (0, _update3.default)(endpoint, options, {\n                    db: db\n                  });\n                },\n                push: function push(endpoint, options) {\n                  return (0, _push3.default)(endpoint, options, db);\n                },\n                removeBinding: function removeBinding(binding) {\n                  (0, _removeBinding3.default)(binding, {\n                    refs: refs,\n                    listeners: listeners,\n                    syncs: syncs\n                  });\n                },\n                remove: function remove(endpoint, fn) {\n                  return (0, _remove3.default)(endpoint, db, fn);\n                },\n                reset: function reset() {\n                  return (0, _reset3.default)({\n                    refs: refs,\n                    listeners: listeners,\n                    syncs: syncs\n                  });\n                }\n              };\n            } else {\n              var rebase = {\n                initializedApp: db.app,\n                timestamp: _app2.default.firestore.FieldValue.serverTimestamp(),\n                bindDoc: function bindDoc(path, options) {\n                  return _fsBind3.default.call(this, path, options, 'bindDoc', {\n                    db: db,\n                    refs: refs,\n                    listeners: listeners\n                  });\n                },\n                bindCollection: function bindCollection(path, options) {\n                  return _fsBind3.default.call(this, path, options, 'bindCollection', {\n                    db: db,\n                    refs: refs,\n                    listeners: listeners\n                  });\n                },\n                syncDoc: function syncDoc(doc, options) {\n                  return _fsSync3.default.call(this, doc, options, {\n                    db: db,\n                    refs: refs,\n                    listeners: listeners,\n                    syncs: syncs\n                  });\n                },\n                listenToDoc: function listenToDoc(doc, options) {\n                  return _fsBind3.default.call(this, doc, options, 'listenToDoc', {\n                    db: db,\n                    refs: refs,\n                    listeners: listeners\n                  });\n                },\n                listenToCollection: function listenToCollection(path, options) {\n                  return _fsBind3.default.call(this, path, options, 'listenToCollection', {\n                    db: db,\n                    refs: refs,\n                    listeners: listeners\n                  });\n                },\n                addToCollection: function addToCollection(path, doc, key) {\n                  return _fsAddToCollection3.default.call(this, path, doc, db, key);\n                },\n                updateDoc: function updateDoc(path, doc, options) {\n                  return _fsUpdateDoc3.default.call(this, path, doc, db);\n                },\n                get: function get(path, options) {\n                  return _fsGet3.default.call(this, path, options, db);\n                },\n                removeDoc: function removeDoc(path) {\n                  return (0, _fsRemoveDoc3.default)(path, db);\n                },\n                removeFromCollection: function removeFromCollection(path, options) {\n                  return (0, _fsRemoveFromCollection3.default)(path, db, options);\n                },\n                removeBinding: function removeBinding(binding) {\n                  (0, _fsRemoveBinding3.default)(binding, {\n                    refs: refs,\n                    listeners: listeners,\n                    syncs: syncs\n                  });\n                },\n                reset: function reset() {\n                  return (0, _fsReset3.default)({\n                    refs: refs,\n                    listeners: listeners,\n                    syncs: syncs\n                  });\n                }\n              };\n            }\n            return rebase;\n          }();\n        }\n        return {\n          createClass: function createClass(db) {\n            (0, _validators._validateDatabase)(db);\n            return init(db);\n          }\n        };\n      }();\n\n      //firestore\n      //helpers\n\n      /***/\n    }, /* 2 */\n    /***/function (module, exports, __webpack_require__) {\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports._fsCreateRef = exports._fsSetUnmountHandler = exports._setData = exports._handleError = exports._createNestedObject = exports._setUnmountHandler = exports._addFirestoreListener = exports._addListener = exports._fsUpdateSyncState = exports._updateSyncState = exports._firebaseRefsMixin = exports._addSync = exports._hasOwnNestedProperty = exports._getSegmentCount = exports._getNestedObject = exports._isNestedPath = exports._isObject = exports._isValid = exports._toArray = exports._fsPrepareData = exports._prepareData = exports._throwError = exports._setState = exports._returnRef = exports._addFirestoreQuery = exports._addQueries = exports._createHash = undefined;\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n      var _removeBinding2 = __webpack_require__(3);\n      var _removeBinding3 = _interopRequireDefault(_removeBinding2);\n      var _fsRemoveBinding2 = __webpack_require__(4);\n      var _fsRemoveBinding3 = _interopRequireDefault(_fsRemoveBinding2);\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n      function _defineProperty(obj, key, value) {\n        if (key in obj) {\n          Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n          });\n        } else {\n          obj[key] = value;\n        }\n        return obj;\n      }\n      var _isObject = function _isObject(obj) {\n        return Object.prototype.toString.call(obj) === '[object Object]' ? true : false;\n      };\n      var _toArray = function _toArray(snapshot) {\n        var arr = [];\n        snapshot.forEach(function (childSnapshot) {\n          var val = childSnapshot.val();\n          if (_isObject(val)) {\n            val.key = childSnapshot.key;\n          }\n          arr.push(val);\n        });\n        return arr;\n      };\n      var _isValid = function _isValid(value) {\n        return typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean' || (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' ? true : false;\n      };\n      var _isNestedPath = function _isNestedPath(path) {\n        return path.split('.').length > 1 ? true : false;\n      };\n      var _createNestedObject = function _createNestedObject(path, value) {\n        var obj = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        var keys = path.split('.');\n        var lastKey = value === undefined ? false : keys.pop();\n        var root = obj;\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n        try {\n          for (var _iterator = keys[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var key = _step.value;\n            obj = obj[key] = obj[key] || {};\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n        if (lastKey) obj[lastKey] = value;\n        return root;\n      };\n      var _getNestedObject = function _getNestedObject(obj, path) {\n        if (_isNestedPath(path) === false) return;\n        var keys = path.split('.');\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n        try {\n          for (var _iterator2 = keys[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var key = _step2.value;\n            if (!obj || (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) !== 'object') return;\n            obj = obj[key];\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n              _iterator2.return();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n        return obj;\n      };\n      var _hasOwnNestedProperty = function _hasOwnNestedProperty(obj, path) {\n        return _getNestedObject(obj, path) === undefined ? false : true;\n      };\n      var _prepareData = function _prepareData(snapshot) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var defaultValue = options.defaultValue,\n          asArray = options.asArray;\n        var data = snapshot.val();\n        if (data === null && _isValid(defaultValue)) return defaultValue;\n        if (asArray === true) return _toArray(snapshot);\n        return data === null ? {} : data;\n      };\n      var _addSync = function _addSync(context, sync, syncs) {\n        var existingSyncs = syncs.get(context) || [];\n        existingSyncs.push(sync);\n        syncs.set(context, existingSyncs);\n      };\n      var _throwError = function _throwError(msg, code) {\n        var err = new Error('REBASE: ' + msg);\n        err.code = code;\n        throw err;\n      };\n      var _setState = function _setState(newState) {\n        this.setState(newState);\n      };\n      var _returnRef = function _returnRef(endpoint, method, id, context) {\n        return {\n          endpoint: endpoint,\n          method: method,\n          id: id,\n          context: context\n        };\n      };\n      var _addQueries = function _addQueries(ref, queries) {\n        var needArgs = {\n          limitToFirst: true,\n          limitToLast: true,\n          orderByChild: true,\n          startAt: true,\n          endAt: true,\n          equalTo: true\n        };\n        for (var key in queries) {\n          /* istanbul ignore else */\n          if (queries.hasOwnProperty(key)) {\n            if (needArgs[key]) {\n              ref = ref[key](queries[key]);\n            } else {\n              ref = ref[key]();\n            }\n          }\n        }\n        return ref;\n      };\n      var _addFirestoreQuery = function _addFirestoreQuery(ref, query) {\n        if (query) {\n          return query(ref);\n        }\n        return ref;\n      };\n      var _createHash = function _createHash(endpoint, invoker) {\n        var hash = 0;\n        var str = endpoint + invoker + Math.random();\n        for (var i = 0; i < str.length; i++) {\n          var char = str.charCodeAt(i);\n          hash = (hash << 5) - hash + char;\n          hash = hash & hash;\n        }\n        return hash;\n      };\n      var _firebaseRefsMixin = function _firebaseRefsMixin(id, ref, refs) {\n        refs.set(id, ref);\n      };\n      var _handleError = function _handleError(onFailure, err) {\n        if (err && typeof onFailure === 'function') {\n          onFailure(err);\n        }\n      };\n      var _setUnmountHandler = function _setUnmountHandler(context, id, refs, listeners, syncs) {\n        var removeListeners = function removeListeners() {\n          (0, _removeBinding3.default)({\n            context: context,\n            id: id\n          }, {\n            refs: refs,\n            listeners: listeners,\n            syncs: syncs\n          });\n        };\n        if (typeof context.componentWillUnmount === 'function') {\n          var unmount = context.componentWillUnmount;\n        }\n        context.componentWillUnmount = function () {\n          removeListeners();\n          if (unmount) unmount.call(context);\n        };\n      };\n      var _fsSetUnmountHandler = function _fsSetUnmountHandler(context, id, refs, listeners, syncs) {\n        var removeListeners = function removeListeners() {\n          (0, _fsRemoveBinding3.default)({\n            context: context,\n            id: id\n          }, {\n            refs: refs,\n            listeners: listeners,\n            syncs: syncs\n          });\n        };\n        if (typeof context.componentWillUnmount === 'function') {\n          var unmount = context.componentWillUnmount;\n        }\n        context.componentWillUnmount = function () {\n          removeListeners();\n          if (unmount) unmount.call(context);\n        };\n      };\n      var _setData = function _setData(ref, data, handleError, keepKeys) {\n        if (Array.isArray(data) && keepKeys) {\n          var shouldConvertToObject = data.reduce(function (acc, curr) {\n            return acc ? acc : _isObject(curr) && curr.hasOwnProperty('key');\n          }, false);\n          if (shouldConvertToObject) {\n            data = data.reduce(function (acc, item) {\n              acc[item.key] = item;\n              return acc;\n            }, {});\n          }\n        }\n        ref.set(data, handleError);\n      };\n      var _updateSyncState = function _updateSyncState(ref, onFailure, keepKeys, data) {\n        if (_isObject(data)) {\n          for (var prop in data) {\n            //allow timestamps to be set\n            if (prop !== '.sv') {\n              _updateSyncState(ref.child(prop), onFailure, keepKeys, data[prop]);\n            } else {\n              _setData(ref, data, _handleError.bind(null, onFailure), keepKeys);\n            }\n          }\n        } else {\n          _setData(ref, data, _handleError.bind(null, onFailure), keepKeys);\n        }\n      };\n      var _fsUpdateSyncState = function _fsUpdateSyncState(ref, data) {\n        ref.set(data);\n      };\n      var _addListener = function _addListener(id, invoker, options, ref, listeners) {\n        ref = _addQueries(ref, options.queries);\n        var boundOnFailure = typeof options.onFailure === 'function' ? options.onFailure.bind(options.context) : null;\n        listeners.set(id, ref.on('value', function (snapshot) {\n          var data = _prepareData(snapshot, options);\n          if (invoker === 'listenTo') {\n            options.then.call(options.context, data);\n          } else {\n            var newState = _defineProperty({}, options.state, data);\n            if (_isNestedPath(options.state)) {\n              var root = options.state.split('.')[0];\n              // Merge the previous state with the new one\n              var prevState = _defineProperty({}, root, options.context.state[root]);\n              newState = _createNestedObject(options.state, data, prevState);\n            }\n            if (invoker === 'syncState') {\n              options.reactSetState.call(options.context, newState);\n              if (options.then && options.then.called === false) {\n                options.then.call(options.context);\n                options.then.called = true;\n              }\n            } else if (invoker === 'bindToState') {\n              _setState.call(options.context, newState);\n              if (options.then && options.then.called === false) {\n                options.then.call(options.context);\n                options.then.called = true;\n              }\n            }\n          }\n        }, boundOnFailure));\n      };\n      var _addFirestoreListener = function _addFirestoreListener(id, invoker, options, ref, listeners) {\n        ref = _addFirestoreQuery(ref, options.query);\n        var boundOnFailure = typeof options.onFailure === 'function' ? options.onFailure.bind(options.context) : undefined;\n        listeners.set(id, ref.onSnapshot(function (snapshot) {\n          if (invoker.match(/^listenTo/)) {\n            if (invoker === 'listenToDoc') {\n              var newState = _fsPrepareData(snapshot, options);\n              return options.then.call(options.context, newState);\n            }\n            if (invoker === 'listenToCollection') {\n              var _newState2 = _fsPrepareData(snapshot, options, true);\n              return options.then.call(options.context, _newState2);\n            }\n          } else {\n            if (invoker === 'syncDoc') {\n              var _newState3 = _fsPrepareData(snapshot, options);\n              options.reactSetState.call(options.context, function (currentState) {\n                return Object.assign(currentState, _newState3);\n              });\n            } else if (invoker === 'bindDoc') {\n              var _newState4 = _fsPrepareData(snapshot, options);\n              _setState.call(options.context, function (currentState) {\n                return Object.assign(currentState, _newState4);\n              });\n            } else if (invoker === 'bindCollection') {\n              var _newState5 = _fsPrepareData(snapshot, options, true);\n              _setState.call(options.context, function (currentState) {\n                return Object.assign(currentState, _newState5);\n              });\n            }\n            if (options.then && options.then.called === false) {\n              options.then.call(options.context);\n              options.then.called = true;\n            }\n          }\n        }, boundOnFailure));\n      };\n      var _getSegmentCount = function _getSegmentCount(path) {\n        return path.match(/^\\//) ? path.split('/').slice(1).length : path.split('/').length;\n      };\n      var _fsPrepareData = function _fsPrepareData(snapshot, options) {\n        var isCollection = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        var meta = {};\n        if (!isCollection) {\n          var data = {};\n          if (snapshot.exists) {\n            if (options.withRefs) meta.ref = snapshot.ref;\n            if (options.withIds) meta.id = snapshot.id;\n            data = snapshot.data();\n          } else {\n            data = {};\n          }\n          return options.state ? _defineProperty({}, options.state, Object.assign({}, data, meta)) : Object.assign({}, data, meta);\n        }\n        var collection = [];\n        if (!snapshot.empty) {\n          snapshot.forEach(function (doc) {\n            if (options.withRefs) meta.ref = doc.ref;\n            if (options.withIds) meta.id = doc.id;\n            collection.push(Object.assign({}, doc.data(), meta));\n          });\n        }\n        return options.state ? _defineProperty({}, options.state, collection) : collection;\n      };\n      var _fsCreateRef = function _fsCreateRef(pathOrRef, db) {\n        if ((typeof pathOrRef === 'undefined' ? 'undefined' : _typeof(pathOrRef)) === 'object') {\n          return pathOrRef;\n        }\n        var segmentCount = _getSegmentCount(pathOrRef);\n        var ref;\n        if (segmentCount % 2 === 0) {\n          ref = db.doc(pathOrRef);\n        } else {\n          ref = db.collection(pathOrRef);\n        }\n        return ref;\n      };\n      exports._createHash = _createHash;\n      exports._addQueries = _addQueries;\n      exports._addFirestoreQuery = _addFirestoreQuery;\n      exports._returnRef = _returnRef;\n      exports._setState = _setState;\n      exports._throwError = _throwError;\n      exports._prepareData = _prepareData;\n      exports._fsPrepareData = _fsPrepareData;\n      exports._toArray = _toArray;\n      exports._isValid = _isValid;\n      exports._isObject = _isObject;\n      exports._isNestedPath = _isNestedPath;\n      exports._getNestedObject = _getNestedObject;\n      exports._getSegmentCount = _getSegmentCount;\n      exports._hasOwnNestedProperty = _hasOwnNestedProperty;\n      exports._addSync = _addSync;\n      exports._firebaseRefsMixin = _firebaseRefsMixin;\n      exports._updateSyncState = _updateSyncState;\n      exports._fsUpdateSyncState = _fsUpdateSyncState;\n      exports._addListener = _addListener;\n      exports._addFirestoreListener = _addFirestoreListener;\n      exports._setUnmountHandler = _setUnmountHandler;\n      exports._createNestedObject = _createNestedObject;\n      exports._handleError = _handleError;\n      exports._setData = _setData;\n      exports._fsSetUnmountHandler = _fsSetUnmountHandler;\n      exports._fsCreateRef = _fsCreateRef;\n\n      /***/\n    }, /* 3 */\n    /***/function (module, exports, __webpack_require__) {\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = _removeBinding;\n      var _utils = __webpack_require__(2);\n      function _removeBinding(_ref, _ref2) {\n        var id = _ref.id,\n          context = _ref.context;\n        var refs = _ref2.refs,\n          listeners = _ref2.listeners,\n          syncs = _ref2.syncs;\n        var ref = refs.get(id);\n        var listener = listeners.get(id);\n        if (typeof ref !== 'undefined') {\n          ref.off('value', listener);\n          refs.delete(id);\n          listeners.delete(id);\n          if (syncs) {\n            var currentSyncs = syncs.get(context);\n            if (currentSyncs && currentSyncs.length > 0) {\n              var idx = currentSyncs.findIndex(function (item, index) {\n                return item.id === id;\n              });\n              /*istanbul ignore else */\n              if (idx !== -1) {\n                currentSyncs.splice(idx, 1);\n                syncs.set(context, currentSyncs);\n              }\n            }\n          }\n        }\n      }\n\n      /***/\n    }, /* 4 */\n    /***/function (module, exports) {\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = _fsRemoveBinding;\n      function _fsRemoveBinding(_ref, _ref2) {\n        var id = _ref.id,\n          context = _ref.context;\n        var refs = _ref2.refs,\n          listeners = _ref2.listeners,\n          syncs = _ref2.syncs;\n        var unsubscribe = listeners.get(id);\n        if (typeof unsubscribe === 'function') {\n          unsubscribe();\n          refs.delete(id);\n          listeners.delete(id);\n          if (syncs) {\n            var currentSyncs = syncs.get(context);\n            if (currentSyncs && currentSyncs.length > 0) {\n              var idx = currentSyncs.findIndex(function (item, index) {\n                return item.id === id;\n              });\n              /*istanbul ignore else */\n              if (idx !== -1) {\n                currentSyncs.splice(idx, 1);\n                syncs.set(context, currentSyncs);\n              }\n            }\n          }\n        }\n      }\n\n      /***/\n    }, /* 5 */\n    /***/function (module, exports, __webpack_require__) {\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports._validateCollectionPath = exports._validateDocumentPath = exports._validateEndpoint = exports._validateDatabase = exports.optionValidators = undefined;\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n      var _utils = __webpack_require__(2);\n      var optionValidators = {\n        notObject: function notObject(options) {\n          if (!(0, _utils._isObject)(options)) {\n            (0, _utils._throwError)('The options argument must be an object. Instead, got ' + options, 'INVALID_OPTIONS');\n          }\n        },\n        context: function context(options) {\n          this.notObject(options);\n          if (!options.context || !(0, _utils._isObject)(options.context)) {\n            this.makeError('context', 'object', options.context);\n          }\n        },\n        state: function state(options) {\n          this.notObject(options);\n          if (!options.state || typeof options.state !== 'string') {\n            this.makeError('state', 'string', options.state);\n          }\n        },\n        then: function then(options) {\n          this.notObject(options);\n          if (typeof options.then === 'undefined' || typeof options.then !== 'function') {\n            this.makeError('then', 'function', options.then);\n          }\n        },\n        data: function data(options) {\n          this.notObject(options);\n          if (typeof options.data === 'undefined') {\n            this.makeError('data', 'ANY', options.data);\n          }\n        },\n        query: function query(options) {\n          this.notObject(options);\n          var validQueries = ['limitToFirst', 'limitToLast', 'orderByChild', 'orderByValue', 'orderByKey', 'orderByPriority', 'startAt', 'endAt', 'equalTo'];\n          var queries = options.queries;\n          for (var key in queries) {\n            if (queries.hasOwnProperty(key) && validQueries.indexOf(key) === -1) {\n              (0, _utils._throwError)('The query field must contain valid Firebase queries.  Expected one of [' + validQueries.join(', ') + ']. Instead, got ' + key, 'INVALID_OPTIONS');\n            }\n          }\n        },\n        defaultValue: function defaultValue(options) {\n          this.notObject(options);\n          if (options.hasOwnProperty('defaultValue')) {\n            if (!(0, _utils._isValid)(options.defaultValue)) {\n              (0, _utils._throwError)('The typeof defaultValue must be one of string, number, boolean, object.', 'INVALID_OPTIONS');\n            }\n          }\n        },\n        makeError: function makeError(prop, type, actual) {\n          (0, _utils._throwError)('The options argument must contain a ' + prop + ' property of type ' + type + '. Instead, got ' + actual, 'INVALID_OPTIONS');\n        }\n      };\n      var _validateEndpoint = function _validateEndpoint(endpoint) {\n        if ((typeof endpoint === 'undefined' ? 'undefined' : _typeof(endpoint)) === 'object') {\n          if (endpoint.hasOwnProperty('firestore')) {\n            return;\n          }\n        }\n        var defaultError = 'The Firebase endpoint you are trying to listen to';\n        var errorMsg;\n        if (typeof endpoint !== 'string') {\n          errorMsg = defaultError + ' must be a string. Instead, got ' + endpoint;\n        } else if (endpoint.length === 0) {\n          errorMsg = defaultError + ' must be a non-empty string. Instead, got ' + endpoint;\n        } else if (endpoint.length > 768) {\n          errorMsg = defaultError + ' is too long to be stored in Firebase. It must be less than 768 characters.';\n        } else if (/^$|[\\[\\]\\#\\$]|.{1}[\\.]/.test(endpoint)) {\n          errorMsg = defaultError + ' in invalid. Paths must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"[\", or \"]\".';\n        }\n        if (typeof errorMsg !== 'undefined') {\n          (0, _utils._throwError)(errorMsg, 'INVALID_ENDPOINT');\n        }\n      };\n      var _validateDatabase = function _validateDatabase(db) {\n        var defaultError = 'Rebase.createClass failed.';\n        var errorMsg;\n        if ((typeof db === 'undefined' ? 'undefined' : _typeof(db)) !== 'object' || !db.ref && !db.collection) {\n          errorMsg = defaultError + ' Expected an initialized firebase or firestore database object.';\n        }\n        if (typeof errorMsg !== 'undefined') {\n          (0, _utils._throwError)(errorMsg, 'INVALID_CONFIG');\n        }\n      };\n      var _validateDocumentPath = function _validateDocumentPath(path) {\n        if ((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.hasOwnProperty('firestore')) return;\n        var defaultError = 'Invalid document path or reference.';\n        if (typeof path !== 'string') (0, _utils._throwError)(defaultError, 'INVALID_ENDPOINT');\n        var segmentCount = (0, _utils._getSegmentCount)(path);\n        if (segmentCount % 2 !== 0) (0, _utils._throwError)(defaultError, 'INVALID_ENDPOINT');\n      };\n      var _validateCollectionPath = function _validateCollectionPath(path) {\n        if ((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.hasOwnProperty('firestore')) return;\n        var defaultError = 'Invalid collection path or reference.';\n        if (typeof path !== 'string') (0, _utils._throwError)(defaultError, 'INVALID_ENDPOINT');\n        var segmentCount = (0, _utils._getSegmentCount)(path);\n        if (segmentCount % 2 === 0) (0, _utils._throwError)(defaultError, 'INVALID_ENDPOINT');\n      };\n      exports.optionValidators = optionValidators;\n      exports._validateDatabase = _validateDatabase;\n      exports._validateEndpoint = _validateEndpoint;\n      exports._validateDocumentPath = _validateDocumentPath;\n      exports._validateCollectionPath = _validateCollectionPath;\n\n      /***/\n    }, /* 6 */\n    /***/function (module, exports) {\n      module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n      /***/\n    }, /* 7 */\n    /***/function (module, exports, __webpack_require__) {\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = _push;\n      var _validators = __webpack_require__(5);\n      function _push(endpoint, options, db) {\n        (0, _validators._validateEndpoint)(endpoint);\n        _validators.optionValidators.data(options);\n        var ref = db.ref(endpoint);\n        var returnEndpoint;\n        if (options.then) {\n          returnEndpoint = ref.push(options.data, options.then);\n        } else {\n          returnEndpoint = ref.push(options.data);\n        }\n        return returnEndpoint;\n      }\n\n      /***/\n    }, /* 8 */\n    /***/function (module, exports, __webpack_require__) {\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = _fetch;\n      var _validators = __webpack_require__(5);\n      var _utils = __webpack_require__(2);\n      function _fetch(endpoint, options, db) {\n        (0, _validators._validateEndpoint)(endpoint);\n        _validators.optionValidators.defaultValue(options);\n        options.queries && _validators.optionValidators.query(options);\n        var ref = db.ref(endpoint);\n        ref = (0, _utils._addQueries)(ref, options.queries);\n        return ref.once('value').then(function (snapshot) {\n          var data = (0, _utils._prepareData)(snapshot, options);\n          if (options.then) {\n            options.then.call(options.context, data);\n          }\n          return data;\n        }).catch(function (err) {\n          //call onFailure callback if it exists otherwise rethrow error\n          if (options.onFailure && typeof options.onFailure === 'function') {\n            options.onFailure.call(options.context, err);\n          } else {\n            throw err;\n          }\n        });\n      }\n\n      /***/\n    }, /* 9 */\n    /***/function (module, exports, __webpack_require__) {\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = _post;\n      var _validators = __webpack_require__(5);\n      function _post(endpoint, options, db) {\n        (0, _validators._validateEndpoint)(endpoint);\n        _validators.optionValidators.data(options);\n        var ref = db.ref(endpoint);\n        if (options.then) {\n          return ref.set(options.data, options.then);\n        } else {\n          return ref.set(options.data);\n        }\n      }\n\n      /***/\n    }, /* 10 */\n    /***/function (module, exports, __webpack_require__) {\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = _sync;\n      var _validators = __webpack_require__(5);\n      var _utils = __webpack_require__(2);\n      function _sync(endpoint, options, state) {\n        (0, _validators._validateEndpoint)(endpoint);\n        _validators.optionValidators.context(options);\n        _validators.optionValidators.state(options);\n        _validators.optionValidators.defaultValue(options);\n        options.queries && _validators.optionValidators.query(options);\n        options.then && (options.then.called = false);\n        options.onFailure = options.onFailure ? options.onFailure.bind(options.context) : null;\n        options.keepKeys = options.keepKeys && options.asArray;\n\n        //store reference to react's setState\n        if (_sync.called !== true) {\n          _sync.reactSetState = options.context.setState;\n          _sync.called = true;\n        }\n        options.reactSetState = _sync.reactSetState;\n        var ref = state.db.ref(endpoint);\n        var id = (0, _utils._createHash)(endpoint, 'syncState');\n        (0, _utils._firebaseRefsMixin)(id, ref, state.refs);\n        (0, _utils._addListener)(id, 'syncState', options, ref, state.listeners);\n        (0, _utils._setUnmountHandler)(options.context, id, state.refs, state.listeners, state.syncs);\n        var sync = {\n          id: id,\n          updateFirebase: _utils._updateSyncState.bind(null, ref, options.onFailure, options.keepKeys),\n          stateKey: options.state\n        };\n        (0, _utils._addSync)(options.context, sync, state.syncs);\n        options.context.setState = function (data, cb) {\n          //if setState is a function, call it first before syncing to fb\n          if (typeof data === 'function') {\n            return _sync.reactSetState.call(options.context, data, function () {\n              if (cb) cb.call(options.context);\n              return options.context.setState.call(options.context, options.context.state);\n            });\n          }\n          //if callback is supplied, call setState first before syncing to fb\n          if (typeof cb === 'function') {\n            return _sync.reactSetState.call(options.context, data, function () {\n              cb();\n              return options.context.setState.call(options.context, data);\n            });\n          }\n          var syncsToCall = state.syncs.get(this);\n          //if sync does not exist, call original Component.setState\n          if (!syncsToCall || syncsToCall.length === 0) {\n            return _sync.reactSetState.call(this, data, cb);\n          }\n          var syncedKeys = syncsToCall.map(function (sync) {\n            return {\n              key: sync.stateKey,\n              update: sync.updateFirebase,\n              nested: (0, _utils._isNestedPath)(sync.stateKey)\n            };\n          });\n          syncedKeys.forEach(function (syncedKey) {\n            if (syncedKey.nested === true) {\n              if ((0, _utils._hasOwnNestedProperty)(data, syncedKey.key)) {\n                var datum = (0, _utils._getNestedObject)(data, syncedKey.key);\n                syncedKey.update(datum);\n              }\n            } else if (data.hasOwnProperty(syncedKey.key)) {\n              syncedKey.update(data[syncedKey.key]);\n            }\n          });\n          var allKeys = Object.keys(data);\n          allKeys.forEach(function (key) {\n            var absent = !syncedKeys.find(function (syncedKey) {\n              var k = syncedKey.key;\n              if (syncedKey.nested === true) {\n                // Check with the root\n                k = syncedKey.key.split('.')[0];\n              }\n              return k === key;\n            });\n            if (absent) {\n              var update = {};\n              update[key] = data[key];\n              _sync.reactSetState.call(options.context, update, cb);\n            }\n          });\n        };\n        return (0, _utils._returnRef)(endpoint, 'syncState', id, options.context);\n      }\n\n      /***/\n    }, /* 11 */\n    /***/function (module, exports, __webpack_require__) {\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = _bind;\n      var _validators = __webpack_require__(5);\n      var _utils = __webpack_require__(2);\n      function _bind(endpoint, options, invoker, state) {\n        (0, _validators._validateEndpoint)(endpoint);\n        _validators.optionValidators.context(options);\n        _validators.optionValidators.defaultValue(options);\n        invoker === 'listenTo' && _validators.optionValidators.then(options);\n        invoker === 'bindToState' && _validators.optionValidators.state(options);\n        options.queries && _validators.optionValidators.query(options);\n        options.then && (options.then.called = false);\n        var id = (0, _utils._createHash)(endpoint, invoker);\n        var ref = state.db.ref(endpoint);\n        (0, _utils._firebaseRefsMixin)(id, ref, state.refs);\n        (0, _utils._addListener)(id, invoker, options, ref, state.listeners);\n        (0, _utils._setUnmountHandler)(options.context, id, state.refs, state.listeners, state.syncs);\n        return (0, _utils._returnRef)(endpoint, invoker, id, options.context);\n      }\n\n      /***/\n    }, /* 12 */\n    /***/function (module, exports, __webpack_require__) {\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = _update;\n      var _validators = __webpack_require__(5);\n      function _update(endpoint, options, state) {\n        (0, _validators._validateEndpoint)(endpoint);\n        _validators.optionValidators.data(options);\n        var ref = state.db.ref(endpoint);\n        if (options.then) {\n          return ref.update(options.data, options.then);\n        } else {\n          return ref.update(options.data);\n        }\n      }\n\n      /***/\n    }, /* 13 */\n    /***/function (module, exports) {\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = _reset;\n      function _reset(state) {\n        state.refs.forEach(function (ref, id) {\n          ref.off('value', state.listeners.get(id));\n        });\n        state.listeners = new Map();\n        state.refs = new Map();\n        state.syncs = new WeakMap();\n        return null;\n      }\n\n      /***/\n    }, /* 14 */\n    /***/function (module, exports) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = function (endpoint, db, fn) {\n        return db.ref().child(endpoint).remove(fn);\n      };\n\n      /***/\n    }, /* 15 */\n    /***/function (module, exports, __webpack_require__) {\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = _fsSync;\n      var _validators = __webpack_require__(5);\n      var _utils = __webpack_require__(2);\n      function _fsSync(document, options, state) {\n        //validate arguments\n        (0, _validators._validateDocumentPath)(document);\n        _validators.optionValidators.context(options);\n        _validators.optionValidators.state(options);\n        options.then && (options.then.called = false);\n        //store reference to react's setState\n        if (_fsSync.called !== true) {\n          _fsSync.reactSetState = options.context.setState;\n          _fsSync.called = true;\n        }\n        options.reactSetState = _fsSync.reactSetState;\n        var id = (0, _utils._createHash)(document, 'syncDoc');\n        var ref = (0, _utils._fsCreateRef)(document, state.db);\n        (0, _utils._firebaseRefsMixin)(id, ref, state.refs);\n        (0, _utils._addFirestoreListener)(id, 'syncDoc', options, ref, state.listeners);\n        (0, _utils._fsSetUnmountHandler)(options.context, id, state.refs, state.listeners, state.syncs);\n        var sync = {\n          id: id,\n          updateFirebase: _utils._fsUpdateSyncState.bind(null, ref),\n          stateKey: options.state\n        };\n        (0, _utils._addSync)(options.context, sync, state.syncs);\n        options.context.setState = function (data, cb) {\n          //if setState is a function, call it first before syncing to fb\n          if (typeof data === 'function') {\n            return _fsSync.reactSetState.call(options.context, data, function () {\n              if (cb) cb.call(options.context);\n              return options.context.setState.call(options.context, options.context.state);\n            });\n          }\n          //if callback is supplied, call setState first before syncing to fb\n          if (typeof cb === 'function') {\n            return _fsSync.reactSetState.call(options.context, data, function () {\n              cb();\n              return options.context.setState.call(options.context, data);\n            });\n          }\n          var syncsToCall = state.syncs.get(this);\n          //if sync does not exist, call original Component.setState\n          if (!syncsToCall || syncsToCall.length === 0) {\n            return _fsSync.reactSetState.call(this, data, cb);\n          }\n          //send the update of synced keys to firestore\n          var syncedKeys = syncsToCall.map(function (sync) {\n            return {\n              key: sync.stateKey,\n              update: sync.updateFirebase\n            };\n          });\n          syncedKeys.forEach(function (syncedKey) {\n            if (data[syncedKey.key]) {\n              syncedKey.update(data[syncedKey.key]);\n            }\n          });\n          //send the update of all other keys through setState\n          var allKeys = Object.keys(data);\n          allKeys.forEach(function (key) {\n            var absent = !syncedKeys.find(function (syncedKey) {\n              return syncedKey.key === key;\n            });\n            if (absent) {\n              var update = {};\n              update[key] = data[key];\n              _fsSync.reactSetState.call(options.context, function (currentState) {\n                return Object.assign(currentState, update);\n              }, cb);\n            }\n          });\n        };\n        return (0, _utils._returnRef)(document, 'syncDoc', id, options.context);\n      }\n\n      /***/\n    }, /* 16 */\n    /***/function (module, exports, __webpack_require__) {\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = _fsBind;\n      var _validators = __webpack_require__(5);\n      var _utils = __webpack_require__(2);\n      function _fsBind(path, options, invoker, state) {\n        _validators.optionValidators.context(options);\n        options.then && (options.then.called = false);\n        if (invoker === 'bindDoc') {\n          (0, _validators._validateDocumentPath)(path);\n        }\n        if (invoker === 'bindCollection') {\n          _validators.optionValidators.state(options);\n          (0, _validators._validateCollectionPath)(path);\n        }\n        if (invoker === 'listenToDoc') {\n          (0, _validators._validateDocumentPath)(path);\n          _validators.optionValidators.then(options);\n        }\n        if (invoker === 'listenToCollection') {\n          (0, _validators._validateCollectionPath)(path);\n          _validators.optionValidators.then(options);\n        }\n        var ref = (0, _utils._fsCreateRef)(path, state.db);\n        var id = (0, _utils._createHash)(path, invoker);\n        (0, _utils._firebaseRefsMixin)(id, ref, state.refs);\n        (0, _utils._addFirestoreListener)(id, invoker, options, ref, state.listeners);\n        (0, _utils._fsSetUnmountHandler)(options.context, id, state.refs, state.listeners, state.syncs);\n        return (0, _utils._returnRef)(path, invoker, id, options.context);\n      }\n\n      /***/\n    }, /* 17 */\n    /***/function (module, exports, __webpack_require__) {\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = _fsGet;\n      var _utils = __webpack_require__(2);\n      var _validators = __webpack_require__(5);\n      function _fsGet(endpoint) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var db = arguments[2];\n        (0, _validators._validateEndpoint)(endpoint);\n        var ref = (0, _utils._fsCreateRef)(endpoint, db);\n        //check if ref is a collection\n        var isCollection = !!ref.add;\n        ref = (0, _utils._addFirestoreQuery)(ref, options.query);\n        return ref.get().then(function (snapshot) {\n          if (isCollection && !snapshot.empty || !isCollection && snapshot.exists) {\n            return (0, _utils._fsPrepareData)(snapshot, options, isCollection);\n          } else {\n            return Promise.reject(new Error('No Result'));\n          }\n        });\n      }\n\n      /***/\n    }, /* 18 */\n    /***/function (module, exports, __webpack_require__) {\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = _fsRemoveDoc;\n      var _utils = __webpack_require__(2);\n      function _fsRemoveDoc(path, db) {\n        var ref = (0, _utils._fsCreateRef)(path, db);\n        return ref.delete();\n      }\n\n      /***/\n    }, /* 19 */\n    /***/function (module, exports, __webpack_require__) {\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = _fsAddToCollection;\n      var _validators = __webpack_require__(5);\n      var _utils = __webpack_require__(2);\n      function _fsAddToCollection(path, doc, db, key) {\n        (0, _validators._validateCollectionPath)(path);\n        var ref = (0, _utils._fsCreateRef)(path, db);\n        if (key) {\n          return ref.doc(key).set(doc);\n        }\n        return ref.add(doc);\n      }\n\n      /***/\n    }, /* 20 */\n    /***/function (module, exports, __webpack_require__) {\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = _fsRemoveFromCollection;\n      var _validators = __webpack_require__(5);\n      var _utils = __webpack_require__(2);\n      function _fsRemoveFromCollection(path, db) {\n        var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        (0, _validators._validateCollectionPath)(path);\n        var ref = (0, _utils._fsCreateRef)(path, db);\n        ref = (0, _utils._addFirestoreQuery)(ref, options.query);\n        return ref.get().then(function (snapshot) {\n          if (!snapshot.empty) {\n            var batch = db.batch();\n            snapshot.forEach(function (doc) {\n              batch.delete(doc.ref);\n            });\n            return batch.commit();\n          }\n        });\n      }\n\n      /***/\n    }, /* 21 */\n    /***/function (module, exports, __webpack_require__) {\n      'use strict';\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = _fsUpdateDoc;\n      var _validators = __webpack_require__(5);\n      var _utils = __webpack_require__(2);\n      function _fsUpdateDoc(document, data, db) {\n        (0, _validators._validateDocumentPath)(document);\n        var ref = (0, _utils._fsCreateRef)(document, db);\n        return ref.update(data);\n      }\n\n      /***/\n    }, /* 22 */\n    /***/function (module, exports) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.default = _fsReset;\n      function _fsReset(state) {\n        state.listeners.forEach(function (unsubscribe, id) {\n          unsubscribe();\n        });\n        state.listeners = new Map();\n        state.refs = new Map();\n        state.syncs = new WeakMap();\n        return null;\n      }\n\n      /***/\n    }\n    /******/])\n  );\n});\n\n;","map":{"version":3,"names":["webpackUniversalModuleDefinition","root","factory","exports","module","require","define","amd","a","i","__WEBPACK_EXTERNAL_MODULE_6__","modules","installedModules","__webpack_require__","moduleId","id","loaded","call","m","c","p","_utils","_validators","_app","_app2","_interopRequireDefault","_push2","_push3","_fetch2","_fetch3","_post2","_post3","_sync2","_sync3","_bind2","_bind3","_update2","_update3","_reset2","_reset3","_removeBinding2","_removeBinding3","_remove2","_remove3","_fsSync2","_fsSync3","_fsRemoveBinding2","_fsRemoveBinding3","_fsBind2","_fsBind3","_fsGet2","_fsGet3","_fsRemoveDoc2","_fsRemoveDoc3","_fsAddToCollection2","_fsAddToCollection3","_fsRemoveFromCollection2","_fsRemoveFromCollection3","_fsUpdateDoc2","_fsUpdateDoc3","_fsReset2","_fsReset3","obj","__esModule","default","init","db","refs","Map","listeners","syncs","WeakMap","ref","rebase","initializedApp","app","timestamp","database","ServerValue","TIMESTAMP","listenTo","endpoint","options","bindToState","syncState","fetch","post","update","push","removeBinding","binding","remove","fn","reset","firestore","FieldValue","serverTimestamp","bindDoc","path","bindCollection","syncDoc","doc","listenToDoc","listenToCollection","addToCollection","key","updateDoc","get","removeDoc","removeFromCollection","createClass","_validateDatabase","Object","defineProperty","value","_fsCreateRef","_fsSetUnmountHandler","_setData","_handleError","_createNestedObject","_setUnmountHandler","_addFirestoreListener","_addListener","_fsUpdateSyncState","_updateSyncState","_firebaseRefsMixin","_addSync","_hasOwnNestedProperty","_getSegmentCount","_getNestedObject","_isNestedPath","_isObject","_isValid","_toArray","_fsPrepareData","_prepareData","_throwError","_setState","_returnRef","_addFirestoreQuery","_addQueries","_createHash","undefined","_typeof","Symbol","iterator","constructor","prototype","_defineProperty","enumerable","configurable","writable","toString","snapshot","arr","forEach","childSnapshot","val","split","length","arguments","keys","lastKey","pop","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","next","done","err","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","defaultValue","asArray","data","context","sync","existingSyncs","set","msg","code","Error","newState","setState","method","queries","needArgs","limitToFirst","limitToLast","orderByChild","startAt","endAt","equalTo","hasOwnProperty","query","invoker","hash","str","Math","random","char","charCodeAt","onFailure","removeListeners","componentWillUnmount","unmount","handleError","keepKeys","Array","isArray","shouldConvertToObject","reduce","acc","curr","item","prop","child","bind","boundOnFailure","on","then","state","prevState","reactSetState","called","onSnapshot","match","_newState2","_newState3","currentState","assign","_newState4","_newState5","slice","isCollection","meta","exists","withRefs","withIds","collection","empty","pathOrRef","segmentCount","_removeBinding","_ref","_ref2","listener","off","delete","currentSyncs","idx","findIndex","index","splice","_fsRemoveBinding","unsubscribe","_validateCollectionPath","_validateDocumentPath","_validateEndpoint","optionValidators","notObject","makeError","validQueries","indexOf","join","type","actual","defaultError","errorMsg","test","_push","returnEndpoint","_fetch","once","catch","_post","_sync","updateFirebase","stateKey","cb","syncsToCall","syncedKeys","map","nested","syncedKey","datum","allKeys","absent","find","k","_bind","_update","_reset","_fsSync","document","_fsBind","_fsGet","add","Promise","reject","_fsRemoveDoc","_fsAddToCollection","_fsRemoveFromCollection","batch","commit","_fsUpdateDoc","_fsReset"],"sources":["/Users/lisasavoie/Desktop/React-For-Beginners-Starter-Files-master/catch-of-the-day/node_modules/re-base/dist/bundle.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"firebase/app\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"firebase/app\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"firebase/app\")) : factory(root[\"firebase/app\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_6__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1);\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _utils = __webpack_require__(2);\n\n\tvar _validators = __webpack_require__(5);\n\n\tvar _app = __webpack_require__(6);\n\n\tvar _app2 = _interopRequireDefault(_app);\n\n\tvar _push2 = __webpack_require__(7);\n\n\tvar _push3 = _interopRequireDefault(_push2);\n\n\tvar _fetch2 = __webpack_require__(8);\n\n\tvar _fetch3 = _interopRequireDefault(_fetch2);\n\n\tvar _post2 = __webpack_require__(9);\n\n\tvar _post3 = _interopRequireDefault(_post2);\n\n\tvar _sync2 = __webpack_require__(10);\n\n\tvar _sync3 = _interopRequireDefault(_sync2);\n\n\tvar _bind2 = __webpack_require__(11);\n\n\tvar _bind3 = _interopRequireDefault(_bind2);\n\n\tvar _update2 = __webpack_require__(12);\n\n\tvar _update3 = _interopRequireDefault(_update2);\n\n\tvar _reset2 = __webpack_require__(13);\n\n\tvar _reset3 = _interopRequireDefault(_reset2);\n\n\tvar _removeBinding2 = __webpack_require__(3);\n\n\tvar _removeBinding3 = _interopRequireDefault(_removeBinding2);\n\n\tvar _remove2 = __webpack_require__(14);\n\n\tvar _remove3 = _interopRequireDefault(_remove2);\n\n\tvar _fsSync2 = __webpack_require__(15);\n\n\tvar _fsSync3 = _interopRequireDefault(_fsSync2);\n\n\tvar _fsRemoveBinding2 = __webpack_require__(4);\n\n\tvar _fsRemoveBinding3 = _interopRequireDefault(_fsRemoveBinding2);\n\n\tvar _fsBind2 = __webpack_require__(16);\n\n\tvar _fsBind3 = _interopRequireDefault(_fsBind2);\n\n\tvar _fsGet2 = __webpack_require__(17);\n\n\tvar _fsGet3 = _interopRequireDefault(_fsGet2);\n\n\tvar _fsRemoveDoc2 = __webpack_require__(18);\n\n\tvar _fsRemoveDoc3 = _interopRequireDefault(_fsRemoveDoc2);\n\n\tvar _fsAddToCollection2 = __webpack_require__(19);\n\n\tvar _fsAddToCollection3 = _interopRequireDefault(_fsAddToCollection2);\n\n\tvar _fsRemoveFromCollection2 = __webpack_require__(20);\n\n\tvar _fsRemoveFromCollection3 = _interopRequireDefault(_fsRemoveFromCollection2);\n\n\tvar _fsUpdateDoc2 = __webpack_require__(21);\n\n\tvar _fsUpdateDoc3 = _interopRequireDefault(_fsUpdateDoc2);\n\n\tvar _fsReset2 = __webpack_require__(22);\n\n\tvar _fsReset3 = _interopRequireDefault(_fsReset2);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\t//database\n\tmodule.exports = function () {\n\t  function init(db) {\n\t    return function () {\n\t      var refs = new Map();\n\t      var listeners = new Map();\n\t      var syncs = new WeakMap();\n\n\t      if (typeof db.ref === 'function') {\n\t        var rebase = {\n\t          initializedApp: db.app,\n\t          timestamp: _app2.default.database.ServerValue.TIMESTAMP,\n\t          listenTo: function listenTo(endpoint, options) {\n\t            return _bind3.default.call(this, endpoint, options, 'listenTo', {\n\t              db: db,\n\t              refs: refs,\n\t              listeners: listeners,\n\t              syncs: syncs\n\t            });\n\t          },\n\t          bindToState: function bindToState(endpoint, options) {\n\t            return _bind3.default.call(this, endpoint, options, 'bindToState', {\n\t              db: db,\n\t              refs: refs,\n\t              listeners: listeners\n\t            });\n\t          },\n\t          syncState: function syncState(endpoint, options) {\n\t            return _sync3.default.call(this, endpoint, options, {\n\t              db: db,\n\t              refs: refs,\n\t              listeners: listeners,\n\t              syncs: syncs\n\t            });\n\t          },\n\t          fetch: function fetch(endpoint, options) {\n\t            return (0, _fetch3.default)(endpoint, options, db);\n\t          },\n\t          post: function post(endpoint, options) {\n\t            return (0, _post3.default)(endpoint, options, db);\n\t          },\n\t          update: function update(endpoint, options) {\n\t            return (0, _update3.default)(endpoint, options, { db: db });\n\t          },\n\t          push: function push(endpoint, options) {\n\t            return (0, _push3.default)(endpoint, options, db);\n\t          },\n\t          removeBinding: function removeBinding(binding) {\n\t            (0, _removeBinding3.default)(binding, {\n\t              refs: refs,\n\t              listeners: listeners,\n\t              syncs: syncs\n\t            });\n\t          },\n\t          remove: function remove(endpoint, fn) {\n\t            return (0, _remove3.default)(endpoint, db, fn);\n\t          },\n\t          reset: function reset() {\n\t            return (0, _reset3.default)({\n\t              refs: refs,\n\t              listeners: listeners,\n\t              syncs: syncs\n\t            });\n\t          }\n\t        };\n\t      } else {\n\t        var rebase = {\n\t          initializedApp: db.app,\n\t          timestamp: _app2.default.firestore.FieldValue.serverTimestamp(),\n\t          bindDoc: function bindDoc(path, options) {\n\t            return _fsBind3.default.call(this, path, options, 'bindDoc', {\n\t              db: db,\n\t              refs: refs,\n\t              listeners: listeners\n\t            });\n\t          },\n\t          bindCollection: function bindCollection(path, options) {\n\t            return _fsBind3.default.call(this, path, options, 'bindCollection', {\n\t              db: db,\n\t              refs: refs,\n\t              listeners: listeners\n\t            });\n\t          },\n\t          syncDoc: function syncDoc(doc, options) {\n\t            return _fsSync3.default.call(this, doc, options, {\n\t              db: db,\n\t              refs: refs,\n\t              listeners: listeners,\n\t              syncs: syncs\n\t            });\n\t          },\n\t          listenToDoc: function listenToDoc(doc, options) {\n\t            return _fsBind3.default.call(this, doc, options, 'listenToDoc', {\n\t              db: db,\n\t              refs: refs,\n\t              listeners: listeners\n\t            });\n\t          },\n\t          listenToCollection: function listenToCollection(path, options) {\n\t            return _fsBind3.default.call(this, path, options, 'listenToCollection', {\n\t              db: db,\n\t              refs: refs,\n\t              listeners: listeners\n\t            });\n\t          },\n\t          addToCollection: function addToCollection(path, doc, key) {\n\t            return _fsAddToCollection3.default.call(this, path, doc, db, key);\n\t          },\n\t          updateDoc: function updateDoc(path, doc, options) {\n\t            return _fsUpdateDoc3.default.call(this, path, doc, db);\n\t          },\n\t          get: function get(path, options) {\n\t            return _fsGet3.default.call(this, path, options, db);\n\t          },\n\t          removeDoc: function removeDoc(path) {\n\t            return (0, _fsRemoveDoc3.default)(path, db);\n\t          },\n\t          removeFromCollection: function removeFromCollection(path, options) {\n\t            return (0, _fsRemoveFromCollection3.default)(path, db, options);\n\t          },\n\t          removeBinding: function removeBinding(binding) {\n\t            (0, _fsRemoveBinding3.default)(binding, {\n\t              refs: refs,\n\t              listeners: listeners,\n\t              syncs: syncs\n\t            });\n\t          },\n\t          reset: function reset() {\n\t            return (0, _fsReset3.default)({\n\t              refs: refs,\n\t              listeners: listeners,\n\t              syncs: syncs\n\t            });\n\t          }\n\t        };\n\t      }\n\t      return rebase;\n\t    }();\n\t  }\n\n\t  return {\n\t    createClass: function createClass(db) {\n\t      (0, _validators._validateDatabase)(db);\n\t      return init(db);\n\t    }\n\t  };\n\t}();\n\n\t//firestore\n\t//helpers\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports._fsCreateRef = exports._fsSetUnmountHandler = exports._setData = exports._handleError = exports._createNestedObject = exports._setUnmountHandler = exports._addFirestoreListener = exports._addListener = exports._fsUpdateSyncState = exports._updateSyncState = exports._firebaseRefsMixin = exports._addSync = exports._hasOwnNestedProperty = exports._getSegmentCount = exports._getNestedObject = exports._isNestedPath = exports._isObject = exports._isValid = exports._toArray = exports._fsPrepareData = exports._prepareData = exports._throwError = exports._setState = exports._returnRef = exports._addFirestoreQuery = exports._addQueries = exports._createHash = undefined;\n\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\tvar _removeBinding2 = __webpack_require__(3);\n\n\tvar _removeBinding3 = _interopRequireDefault(_removeBinding2);\n\n\tvar _fsRemoveBinding2 = __webpack_require__(4);\n\n\tvar _fsRemoveBinding3 = _interopRequireDefault(_fsRemoveBinding2);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\tvar _isObject = function _isObject(obj) {\n\t  return Object.prototype.toString.call(obj) === '[object Object]' ? true : false;\n\t};\n\n\tvar _toArray = function _toArray(snapshot) {\n\t  var arr = [];\n\t  snapshot.forEach(function (childSnapshot) {\n\t    var val = childSnapshot.val();\n\t    if (_isObject(val)) {\n\t      val.key = childSnapshot.key;\n\t    }\n\t    arr.push(val);\n\t  });\n\t  return arr;\n\t};\n\n\tvar _isValid = function _isValid(value) {\n\t  return typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean' || (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' ? true : false;\n\t};\n\n\tvar _isNestedPath = function _isNestedPath(path) {\n\t  return path.split('.').length > 1 ? true : false;\n\t};\n\n\tvar _createNestedObject = function _createNestedObject(path, value) {\n\t  var obj = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n\t  var keys = path.split('.');\n\t  var lastKey = value === undefined ? false : keys.pop();\n\t  var root = obj;\n\n\t  var _iteratorNormalCompletion = true;\n\t  var _didIteratorError = false;\n\t  var _iteratorError = undefined;\n\n\t  try {\n\t    for (var _iterator = keys[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t      var key = _step.value;\n\n\t      obj = obj[key] = obj[key] || {};\n\t    }\n\t  } catch (err) {\n\t    _didIteratorError = true;\n\t    _iteratorError = err;\n\t  } finally {\n\t    try {\n\t      if (!_iteratorNormalCompletion && _iterator.return) {\n\t        _iterator.return();\n\t      }\n\t    } finally {\n\t      if (_didIteratorError) {\n\t        throw _iteratorError;\n\t      }\n\t    }\n\t  }\n\n\t  if (lastKey) obj[lastKey] = value;\n\n\t  return root;\n\t};\n\n\tvar _getNestedObject = function _getNestedObject(obj, path) {\n\t  if (_isNestedPath(path) === false) return;\n\n\t  var keys = path.split('.');\n\t  var _iteratorNormalCompletion2 = true;\n\t  var _didIteratorError2 = false;\n\t  var _iteratorError2 = undefined;\n\n\t  try {\n\t    for (var _iterator2 = keys[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t      var key = _step2.value;\n\n\t      if (!obj || (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) !== 'object') return;\n\t      obj = obj[key];\n\t    }\n\t  } catch (err) {\n\t    _didIteratorError2 = true;\n\t    _iteratorError2 = err;\n\t  } finally {\n\t    try {\n\t      if (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t        _iterator2.return();\n\t      }\n\t    } finally {\n\t      if (_didIteratorError2) {\n\t        throw _iteratorError2;\n\t      }\n\t    }\n\t  }\n\n\t  return obj;\n\t};\n\n\tvar _hasOwnNestedProperty = function _hasOwnNestedProperty(obj, path) {\n\t  return _getNestedObject(obj, path) === undefined ? false : true;\n\t};\n\n\tvar _prepareData = function _prepareData(snapshot) {\n\t  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t  var defaultValue = options.defaultValue,\n\t      asArray = options.asArray;\n\n\t  var data = snapshot.val();\n\t  if (data === null && _isValid(defaultValue)) return defaultValue;\n\t  if (asArray === true) return _toArray(snapshot);\n\t  return data === null ? {} : data;\n\t};\n\n\tvar _addSync = function _addSync(context, sync, syncs) {\n\t  var existingSyncs = syncs.get(context) || [];\n\t  existingSyncs.push(sync);\n\t  syncs.set(context, existingSyncs);\n\t};\n\n\tvar _throwError = function _throwError(msg, code) {\n\t  var err = new Error('REBASE: ' + msg);\n\t  err.code = code;\n\t  throw err;\n\t};\n\n\tvar _setState = function _setState(newState) {\n\t  this.setState(newState);\n\t};\n\n\tvar _returnRef = function _returnRef(endpoint, method, id, context) {\n\t  return { endpoint: endpoint, method: method, id: id, context: context };\n\t};\n\n\tvar _addQueries = function _addQueries(ref, queries) {\n\t  var needArgs = {\n\t    limitToFirst: true,\n\t    limitToLast: true,\n\t    orderByChild: true,\n\t    startAt: true,\n\t    endAt: true,\n\t    equalTo: true\n\t  };\n\n\t  for (var key in queries) {\n\t    /* istanbul ignore else */\n\t    if (queries.hasOwnProperty(key)) {\n\t      if (needArgs[key]) {\n\t        ref = ref[key](queries[key]);\n\t      } else {\n\t        ref = ref[key]();\n\t      }\n\t    }\n\t  }\n\t  return ref;\n\t};\n\n\tvar _addFirestoreQuery = function _addFirestoreQuery(ref, query) {\n\t  if (query) {\n\t    return query(ref);\n\t  }\n\t  return ref;\n\t};\n\n\tvar _createHash = function _createHash(endpoint, invoker) {\n\t  var hash = 0;\n\t  var str = endpoint + invoker + Math.random();\n\t  for (var i = 0; i < str.length; i++) {\n\t    var char = str.charCodeAt(i);\n\t    hash = (hash << 5) - hash + char;\n\t    hash = hash & hash;\n\t  }\n\t  return hash;\n\t};\n\n\tvar _firebaseRefsMixin = function _firebaseRefsMixin(id, ref, refs) {\n\t  refs.set(id, ref);\n\t};\n\n\tvar _handleError = function _handleError(onFailure, err) {\n\t  if (err && typeof onFailure === 'function') {\n\t    onFailure(err);\n\t  }\n\t};\n\n\tvar _setUnmountHandler = function _setUnmountHandler(context, id, refs, listeners, syncs) {\n\t  var removeListeners = function removeListeners() {\n\t    (0, _removeBinding3.default)({ context: context, id: id }, { refs: refs, listeners: listeners, syncs: syncs });\n\t  };\n\t  if (typeof context.componentWillUnmount === 'function') {\n\t    var unmount = context.componentWillUnmount;\n\t  }\n\t  context.componentWillUnmount = function () {\n\t    removeListeners();\n\t    if (unmount) unmount.call(context);\n\t  };\n\t};\n\n\tvar _fsSetUnmountHandler = function _fsSetUnmountHandler(context, id, refs, listeners, syncs) {\n\t  var removeListeners = function removeListeners() {\n\t    (0, _fsRemoveBinding3.default)({ context: context, id: id }, { refs: refs, listeners: listeners, syncs: syncs });\n\t  };\n\t  if (typeof context.componentWillUnmount === 'function') {\n\t    var unmount = context.componentWillUnmount;\n\t  }\n\t  context.componentWillUnmount = function () {\n\t    removeListeners();\n\t    if (unmount) unmount.call(context);\n\t  };\n\t};\n\n\tvar _setData = function _setData(ref, data, handleError, keepKeys) {\n\t  if (Array.isArray(data) && keepKeys) {\n\t    var shouldConvertToObject = data.reduce(function (acc, curr) {\n\t      return acc ? acc : _isObject(curr) && curr.hasOwnProperty('key');\n\t    }, false);\n\t    if (shouldConvertToObject) {\n\t      data = data.reduce(function (acc, item) {\n\t        acc[item.key] = item;\n\t        return acc;\n\t      }, {});\n\t    }\n\t  }\n\t  ref.set(data, handleError);\n\t};\n\n\tvar _updateSyncState = function _updateSyncState(ref, onFailure, keepKeys, data) {\n\t  if (_isObject(data)) {\n\t    for (var prop in data) {\n\t      //allow timestamps to be set\n\t      if (prop !== '.sv') {\n\t        _updateSyncState(ref.child(prop), onFailure, keepKeys, data[prop]);\n\t      } else {\n\t        _setData(ref, data, _handleError.bind(null, onFailure), keepKeys);\n\t      }\n\t    }\n\t  } else {\n\t    _setData(ref, data, _handleError.bind(null, onFailure), keepKeys);\n\t  }\n\t};\n\n\tvar _fsUpdateSyncState = function _fsUpdateSyncState(ref, data) {\n\t  ref.set(data);\n\t};\n\n\tvar _addListener = function _addListener(id, invoker, options, ref, listeners) {\n\t  ref = _addQueries(ref, options.queries);\n\t  var boundOnFailure = typeof options.onFailure === 'function' ? options.onFailure.bind(options.context) : null;\n\t  listeners.set(id, ref.on('value', function (snapshot) {\n\t    var data = _prepareData(snapshot, options);\n\t    if (invoker === 'listenTo') {\n\t      options.then.call(options.context, data);\n\t    } else {\n\t      var newState = _defineProperty({}, options.state, data);\n\t      if (_isNestedPath(options.state)) {\n\t        var root = options.state.split('.')[0];\n\t        // Merge the previous state with the new one\n\t        var prevState = _defineProperty({}, root, options.context.state[root]);\n\t        newState = _createNestedObject(options.state, data, prevState);\n\t      }\n\t      if (invoker === 'syncState') {\n\t        options.reactSetState.call(options.context, newState);\n\t        if (options.then && options.then.called === false) {\n\t          options.then.call(options.context);\n\t          options.then.called = true;\n\t        }\n\t      } else if (invoker === 'bindToState') {\n\t        _setState.call(options.context, newState);\n\t        if (options.then && options.then.called === false) {\n\t          options.then.call(options.context);\n\t          options.then.called = true;\n\t        }\n\t      }\n\t    }\n\t  }, boundOnFailure));\n\t};\n\n\tvar _addFirestoreListener = function _addFirestoreListener(id, invoker, options, ref, listeners) {\n\t  ref = _addFirestoreQuery(ref, options.query);\n\t  var boundOnFailure = typeof options.onFailure === 'function' ? options.onFailure.bind(options.context) : undefined;\n\t  listeners.set(id, ref.onSnapshot(function (snapshot) {\n\t    if (invoker.match(/^listenTo/)) {\n\t      if (invoker === 'listenToDoc') {\n\t        var newState = _fsPrepareData(snapshot, options);\n\t        return options.then.call(options.context, newState);\n\t      }\n\t      if (invoker === 'listenToCollection') {\n\t        var _newState2 = _fsPrepareData(snapshot, options, true);\n\t        return options.then.call(options.context, _newState2);\n\t      }\n\t    } else {\n\t      if (invoker === 'syncDoc') {\n\t        var _newState3 = _fsPrepareData(snapshot, options);\n\t        options.reactSetState.call(options.context, function (currentState) {\n\t          return Object.assign(currentState, _newState3);\n\t        });\n\t      } else if (invoker === 'bindDoc') {\n\t        var _newState4 = _fsPrepareData(snapshot, options);\n\t        _setState.call(options.context, function (currentState) {\n\t          return Object.assign(currentState, _newState4);\n\t        });\n\t      } else if (invoker === 'bindCollection') {\n\t        var _newState5 = _fsPrepareData(snapshot, options, true);\n\t        _setState.call(options.context, function (currentState) {\n\t          return Object.assign(currentState, _newState5);\n\t        });\n\t      }\n\t      if (options.then && options.then.called === false) {\n\t        options.then.call(options.context);\n\t        options.then.called = true;\n\t      }\n\t    }\n\t  }, boundOnFailure));\n\t};\n\n\tvar _getSegmentCount = function _getSegmentCount(path) {\n\t  return path.match(/^\\//) ? path.split('/').slice(1).length : path.split('/').length;\n\t};\n\n\tvar _fsPrepareData = function _fsPrepareData(snapshot, options) {\n\t  var isCollection = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n\t  var meta = {};\n\t  if (!isCollection) {\n\t    var data = {};\n\t    if (snapshot.exists) {\n\t      if (options.withRefs) meta.ref = snapshot.ref;\n\t      if (options.withIds) meta.id = snapshot.id;\n\t      data = snapshot.data();\n\t    } else {\n\t      data = {};\n\t    }\n\t    return options.state ? _defineProperty({}, options.state, Object.assign({}, data, meta)) : Object.assign({}, data, meta);\n\t  }\n\t  var collection = [];\n\t  if (!snapshot.empty) {\n\t    snapshot.forEach(function (doc) {\n\t      if (options.withRefs) meta.ref = doc.ref;\n\t      if (options.withIds) meta.id = doc.id;\n\t      collection.push(Object.assign({}, doc.data(), meta));\n\t    });\n\t  }\n\t  return options.state ? _defineProperty({}, options.state, collection) : collection;\n\t};\n\n\tvar _fsCreateRef = function _fsCreateRef(pathOrRef, db) {\n\t  if ((typeof pathOrRef === 'undefined' ? 'undefined' : _typeof(pathOrRef)) === 'object') {\n\t    return pathOrRef;\n\t  }\n\t  var segmentCount = _getSegmentCount(pathOrRef);\n\t  var ref;\n\t  if (segmentCount % 2 === 0) {\n\t    ref = db.doc(pathOrRef);\n\t  } else {\n\t    ref = db.collection(pathOrRef);\n\t  }\n\t  return ref;\n\t};\n\n\texports._createHash = _createHash;\n\texports._addQueries = _addQueries;\n\texports._addFirestoreQuery = _addFirestoreQuery;\n\texports._returnRef = _returnRef;\n\texports._setState = _setState;\n\texports._throwError = _throwError;\n\texports._prepareData = _prepareData;\n\texports._fsPrepareData = _fsPrepareData;\n\texports._toArray = _toArray;\n\texports._isValid = _isValid;\n\texports._isObject = _isObject;\n\texports._isNestedPath = _isNestedPath;\n\texports._getNestedObject = _getNestedObject;\n\texports._getSegmentCount = _getSegmentCount;\n\texports._hasOwnNestedProperty = _hasOwnNestedProperty;\n\texports._addSync = _addSync;\n\texports._firebaseRefsMixin = _firebaseRefsMixin;\n\texports._updateSyncState = _updateSyncState;\n\texports._fsUpdateSyncState = _fsUpdateSyncState;\n\texports._addListener = _addListener;\n\texports._addFirestoreListener = _addFirestoreListener;\n\texports._setUnmountHandler = _setUnmountHandler;\n\texports._createNestedObject = _createNestedObject;\n\texports._handleError = _handleError;\n\texports._setData = _setData;\n\texports._fsSetUnmountHandler = _fsSetUnmountHandler;\n\texports._fsCreateRef = _fsCreateRef;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = _removeBinding;\n\n\tvar _utils = __webpack_require__(2);\n\n\tfunction _removeBinding(_ref, _ref2) {\n\t  var id = _ref.id,\n\t      context = _ref.context;\n\t  var refs = _ref2.refs,\n\t      listeners = _ref2.listeners,\n\t      syncs = _ref2.syncs;\n\n\t  var ref = refs.get(id);\n\t  var listener = listeners.get(id);\n\t  if (typeof ref !== 'undefined') {\n\t    ref.off('value', listener);\n\t    refs.delete(id);\n\t    listeners.delete(id);\n\t    if (syncs) {\n\t      var currentSyncs = syncs.get(context);\n\t      if (currentSyncs && currentSyncs.length > 0) {\n\t        var idx = currentSyncs.findIndex(function (item, index) {\n\t          return item.id === id;\n\t        });\n\t        /*istanbul ignore else */\n\t        if (idx !== -1) {\n\t          currentSyncs.splice(idx, 1);\n\t          syncs.set(context, currentSyncs);\n\t        }\n\t      }\n\t    }\n\t  }\n\t}\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = _fsRemoveBinding;\n\tfunction _fsRemoveBinding(_ref, _ref2) {\n\t  var id = _ref.id,\n\t      context = _ref.context;\n\t  var refs = _ref2.refs,\n\t      listeners = _ref2.listeners,\n\t      syncs = _ref2.syncs;\n\n\t  var unsubscribe = listeners.get(id);\n\t  if (typeof unsubscribe === 'function') {\n\t    unsubscribe();\n\t    refs.delete(id);\n\t    listeners.delete(id);\n\t    if (syncs) {\n\t      var currentSyncs = syncs.get(context);\n\t      if (currentSyncs && currentSyncs.length > 0) {\n\t        var idx = currentSyncs.findIndex(function (item, index) {\n\t          return item.id === id;\n\t        });\n\t        /*istanbul ignore else */\n\t        if (idx !== -1) {\n\t          currentSyncs.splice(idx, 1);\n\t          syncs.set(context, currentSyncs);\n\t        }\n\t      }\n\t    }\n\t  }\n\t}\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports._validateCollectionPath = exports._validateDocumentPath = exports._validateEndpoint = exports._validateDatabase = exports.optionValidators = undefined;\n\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\tvar _utils = __webpack_require__(2);\n\n\tvar optionValidators = {\n\t  notObject: function notObject(options) {\n\t    if (!(0, _utils._isObject)(options)) {\n\t      (0, _utils._throwError)('The options argument must be an object. Instead, got ' + options, 'INVALID_OPTIONS');\n\t    }\n\t  },\n\t  context: function context(options) {\n\t    this.notObject(options);\n\t    if (!options.context || !(0, _utils._isObject)(options.context)) {\n\t      this.makeError('context', 'object', options.context);\n\t    }\n\t  },\n\t  state: function state(options) {\n\t    this.notObject(options);\n\t    if (!options.state || typeof options.state !== 'string') {\n\t      this.makeError('state', 'string', options.state);\n\t    }\n\t  },\n\t  then: function then(options) {\n\t    this.notObject(options);\n\t    if (typeof options.then === 'undefined' || typeof options.then !== 'function') {\n\t      this.makeError('then', 'function', options.then);\n\t    }\n\t  },\n\t  data: function data(options) {\n\t    this.notObject(options);\n\t    if (typeof options.data === 'undefined') {\n\t      this.makeError('data', 'ANY', options.data);\n\t    }\n\t  },\n\t  query: function query(options) {\n\t    this.notObject(options);\n\t    var validQueries = ['limitToFirst', 'limitToLast', 'orderByChild', 'orderByValue', 'orderByKey', 'orderByPriority', 'startAt', 'endAt', 'equalTo'];\n\t    var queries = options.queries;\n\t    for (var key in queries) {\n\t      if (queries.hasOwnProperty(key) && validQueries.indexOf(key) === -1) {\n\t        (0, _utils._throwError)('The query field must contain valid Firebase queries.  Expected one of [' + validQueries.join(', ') + ']. Instead, got ' + key, 'INVALID_OPTIONS');\n\t      }\n\t    }\n\t  },\n\t  defaultValue: function defaultValue(options) {\n\t    this.notObject(options);\n\t    if (options.hasOwnProperty('defaultValue')) {\n\t      if (!(0, _utils._isValid)(options.defaultValue)) {\n\t        (0, _utils._throwError)('The typeof defaultValue must be one of string, number, boolean, object.', 'INVALID_OPTIONS');\n\t      }\n\t    }\n\t  },\n\t  makeError: function makeError(prop, type, actual) {\n\t    (0, _utils._throwError)('The options argument must contain a ' + prop + ' property of type ' + type + '. Instead, got ' + actual, 'INVALID_OPTIONS');\n\t  }\n\t};\n\n\tvar _validateEndpoint = function _validateEndpoint(endpoint) {\n\t  if ((typeof endpoint === 'undefined' ? 'undefined' : _typeof(endpoint)) === 'object') {\n\t    if (endpoint.hasOwnProperty('firestore')) {\n\t      return;\n\t    }\n\t  }\n\t  var defaultError = 'The Firebase endpoint you are trying to listen to';\n\t  var errorMsg;\n\t  if (typeof endpoint !== 'string') {\n\t    errorMsg = defaultError + ' must be a string. Instead, got ' + endpoint;\n\t  } else if (endpoint.length === 0) {\n\t    errorMsg = defaultError + ' must be a non-empty string. Instead, got ' + endpoint;\n\t  } else if (endpoint.length > 768) {\n\t    errorMsg = defaultError + ' is too long to be stored in Firebase. It must be less than 768 characters.';\n\t  } else if (/^$|[\\[\\]\\#\\$]|.{1}[\\.]/.test(endpoint)) {\n\t    errorMsg = defaultError + ' in invalid. Paths must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"[\", or \"]\".';\n\t  }\n\n\t  if (typeof errorMsg !== 'undefined') {\n\t    (0, _utils._throwError)(errorMsg, 'INVALID_ENDPOINT');\n\t  }\n\t};\n\n\tvar _validateDatabase = function _validateDatabase(db) {\n\t  var defaultError = 'Rebase.createClass failed.';\n\t  var errorMsg;\n\t  if ((typeof db === 'undefined' ? 'undefined' : _typeof(db)) !== 'object' || !db.ref && !db.collection) {\n\t    errorMsg = defaultError + ' Expected an initialized firebase or firestore database object.';\n\t  }\n\t  if (typeof errorMsg !== 'undefined') {\n\t    (0, _utils._throwError)(errorMsg, 'INVALID_CONFIG');\n\t  }\n\t};\n\n\tvar _validateDocumentPath = function _validateDocumentPath(path) {\n\t  if ((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.hasOwnProperty('firestore')) return;\n\t  var defaultError = 'Invalid document path or reference.';\n\t  if (typeof path !== 'string') (0, _utils._throwError)(defaultError, 'INVALID_ENDPOINT');\n\t  var segmentCount = (0, _utils._getSegmentCount)(path);\n\t  if (segmentCount % 2 !== 0) (0, _utils._throwError)(defaultError, 'INVALID_ENDPOINT');\n\t};\n\n\tvar _validateCollectionPath = function _validateCollectionPath(path) {\n\t  if ((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.hasOwnProperty('firestore')) return;\n\t  var defaultError = 'Invalid collection path or reference.';\n\t  if (typeof path !== 'string') (0, _utils._throwError)(defaultError, 'INVALID_ENDPOINT');\n\t  var segmentCount = (0, _utils._getSegmentCount)(path);\n\t  if (segmentCount % 2 === 0) (0, _utils._throwError)(defaultError, 'INVALID_ENDPOINT');\n\t};\n\n\texports.optionValidators = optionValidators;\n\texports._validateDatabase = _validateDatabase;\n\texports._validateEndpoint = _validateEndpoint;\n\texports._validateDocumentPath = _validateDocumentPath;\n\texports._validateCollectionPath = _validateCollectionPath;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = _push;\n\n\tvar _validators = __webpack_require__(5);\n\n\tfunction _push(endpoint, options, db) {\n\t  (0, _validators._validateEndpoint)(endpoint);\n\t  _validators.optionValidators.data(options);\n\t  var ref = db.ref(endpoint);\n\t  var returnEndpoint;\n\t  if (options.then) {\n\t    returnEndpoint = ref.push(options.data, options.then);\n\t  } else {\n\t    returnEndpoint = ref.push(options.data);\n\t  }\n\t  return returnEndpoint;\n\t}\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = _fetch;\n\n\tvar _validators = __webpack_require__(5);\n\n\tvar _utils = __webpack_require__(2);\n\n\tfunction _fetch(endpoint, options, db) {\n\t  (0, _validators._validateEndpoint)(endpoint);\n\t  _validators.optionValidators.defaultValue(options);\n\t  options.queries && _validators.optionValidators.query(options);\n\t  var ref = db.ref(endpoint);\n\t  ref = (0, _utils._addQueries)(ref, options.queries);\n\t  return ref.once('value').then(function (snapshot) {\n\t    var data = (0, _utils._prepareData)(snapshot, options);\n\t    if (options.then) {\n\t      options.then.call(options.context, data);\n\t    }\n\t    return data;\n\t  }).catch(function (err) {\n\t    //call onFailure callback if it exists otherwise rethrow error\n\t    if (options.onFailure && typeof options.onFailure === 'function') {\n\t      options.onFailure.call(options.context, err);\n\t    } else {\n\t      throw err;\n\t    }\n\t  });\n\t}\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = _post;\n\n\tvar _validators = __webpack_require__(5);\n\n\tfunction _post(endpoint, options, db) {\n\t  (0, _validators._validateEndpoint)(endpoint);\n\t  _validators.optionValidators.data(options);\n\t  var ref = db.ref(endpoint);\n\t  if (options.then) {\n\t    return ref.set(options.data, options.then);\n\t  } else {\n\t    return ref.set(options.data);\n\t  }\n\t}\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = _sync;\n\n\tvar _validators = __webpack_require__(5);\n\n\tvar _utils = __webpack_require__(2);\n\n\tfunction _sync(endpoint, options, state) {\n\t  (0, _validators._validateEndpoint)(endpoint);\n\t  _validators.optionValidators.context(options);\n\t  _validators.optionValidators.state(options);\n\t  _validators.optionValidators.defaultValue(options);\n\t  options.queries && _validators.optionValidators.query(options);\n\t  options.then && (options.then.called = false);\n\t  options.onFailure = options.onFailure ? options.onFailure.bind(options.context) : null;\n\t  options.keepKeys = options.keepKeys && options.asArray;\n\n\t  //store reference to react's setState\n\t  if (_sync.called !== true) {\n\t    _sync.reactSetState = options.context.setState;\n\t    _sync.called = true;\n\t  }\n\t  options.reactSetState = _sync.reactSetState;\n\n\t  var ref = state.db.ref(endpoint);\n\t  var id = (0, _utils._createHash)(endpoint, 'syncState');\n\t  (0, _utils._firebaseRefsMixin)(id, ref, state.refs);\n\t  (0, _utils._addListener)(id, 'syncState', options, ref, state.listeners);\n\t  (0, _utils._setUnmountHandler)(options.context, id, state.refs, state.listeners, state.syncs);\n\t  var sync = {\n\t    id: id,\n\t    updateFirebase: _utils._updateSyncState.bind(null, ref, options.onFailure, options.keepKeys),\n\t    stateKey: options.state\n\t  };\n\t  (0, _utils._addSync)(options.context, sync, state.syncs);\n\n\t  options.context.setState = function (data, cb) {\n\t    //if setState is a function, call it first before syncing to fb\n\t    if (typeof data === 'function') {\n\t      return _sync.reactSetState.call(options.context, data, function () {\n\t        if (cb) cb.call(options.context);\n\t        return options.context.setState.call(options.context, options.context.state);\n\t      });\n\t    }\n\t    //if callback is supplied, call setState first before syncing to fb\n\t    if (typeof cb === 'function') {\n\t      return _sync.reactSetState.call(options.context, data, function () {\n\t        cb();\n\t        return options.context.setState.call(options.context, data);\n\t      });\n\t    }\n\t    var syncsToCall = state.syncs.get(this);\n\t    //if sync does not exist, call original Component.setState\n\t    if (!syncsToCall || syncsToCall.length === 0) {\n\t      return _sync.reactSetState.call(this, data, cb);\n\t    }\n\t    var syncedKeys = syncsToCall.map(function (sync) {\n\t      return {\n\t        key: sync.stateKey,\n\t        update: sync.updateFirebase,\n\t        nested: (0, _utils._isNestedPath)(sync.stateKey)\n\t      };\n\t    });\n\t    syncedKeys.forEach(function (syncedKey) {\n\t      if (syncedKey.nested === true) {\n\t        if ((0, _utils._hasOwnNestedProperty)(data, syncedKey.key)) {\n\t          var datum = (0, _utils._getNestedObject)(data, syncedKey.key);\n\t          syncedKey.update(datum);\n\t        }\n\t      } else if (data.hasOwnProperty(syncedKey.key)) {\n\t        syncedKey.update(data[syncedKey.key]);\n\t      }\n\t    });\n\t    var allKeys = Object.keys(data);\n\t    allKeys.forEach(function (key) {\n\t      var absent = !syncedKeys.find(function (syncedKey) {\n\t        var k = syncedKey.key;\n\t        if (syncedKey.nested === true) {\n\t          // Check with the root\n\t          k = syncedKey.key.split('.')[0];\n\t        }\n\t        return k === key;\n\t      });\n\n\t      if (absent) {\n\t        var update = {};\n\t        update[key] = data[key];\n\t        _sync.reactSetState.call(options.context, update, cb);\n\t      }\n\t    });\n\t  };\n\t  return (0, _utils._returnRef)(endpoint, 'syncState', id, options.context);\n\t}\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = _bind;\n\n\tvar _validators = __webpack_require__(5);\n\n\tvar _utils = __webpack_require__(2);\n\n\tfunction _bind(endpoint, options, invoker, state) {\n\t  (0, _validators._validateEndpoint)(endpoint);\n\t  _validators.optionValidators.context(options);\n\t  _validators.optionValidators.defaultValue(options);\n\t  invoker === 'listenTo' && _validators.optionValidators.then(options);\n\t  invoker === 'bindToState' && _validators.optionValidators.state(options);\n\t  options.queries && _validators.optionValidators.query(options);\n\t  options.then && (options.then.called = false);\n\n\t  var id = (0, _utils._createHash)(endpoint, invoker);\n\t  var ref = state.db.ref(endpoint);\n\t  (0, _utils._firebaseRefsMixin)(id, ref, state.refs);\n\t  (0, _utils._addListener)(id, invoker, options, ref, state.listeners);\n\t  (0, _utils._setUnmountHandler)(options.context, id, state.refs, state.listeners, state.syncs);\n\t  return (0, _utils._returnRef)(endpoint, invoker, id, options.context);\n\t}\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = _update;\n\n\tvar _validators = __webpack_require__(5);\n\n\tfunction _update(endpoint, options, state) {\n\t  (0, _validators._validateEndpoint)(endpoint);\n\t  _validators.optionValidators.data(options);\n\t  var ref = state.db.ref(endpoint);\n\t  if (options.then) {\n\t    return ref.update(options.data, options.then);\n\t  } else {\n\t    return ref.update(options.data);\n\t  }\n\t}\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = _reset;\n\tfunction _reset(state) {\n\t  state.refs.forEach(function (ref, id) {\n\t    ref.off('value', state.listeners.get(id));\n\t  });\n\t  state.listeners = new Map();\n\t  state.refs = new Map();\n\t  state.syncs = new WeakMap();\n\t  return null;\n\t}\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\n\texports.default = function (endpoint, db, fn) {\n\t  return db.ref().child(endpoint).remove(fn);\n\t};\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = _fsSync;\n\n\tvar _validators = __webpack_require__(5);\n\n\tvar _utils = __webpack_require__(2);\n\n\tfunction _fsSync(document, options, state) {\n\t  //validate arguments\n\t  (0, _validators._validateDocumentPath)(document);\n\t  _validators.optionValidators.context(options);\n\t  _validators.optionValidators.state(options);\n\t  options.then && (options.then.called = false);\n\t  //store reference to react's setState\n\t  if (_fsSync.called !== true) {\n\t    _fsSync.reactSetState = options.context.setState;\n\t    _fsSync.called = true;\n\t  }\n\t  options.reactSetState = _fsSync.reactSetState;\n\n\t  var id = (0, _utils._createHash)(document, 'syncDoc');\n\t  var ref = (0, _utils._fsCreateRef)(document, state.db);\n\t  (0, _utils._firebaseRefsMixin)(id, ref, state.refs);\n\t  (0, _utils._addFirestoreListener)(id, 'syncDoc', options, ref, state.listeners);\n\t  (0, _utils._fsSetUnmountHandler)(options.context, id, state.refs, state.listeners, state.syncs);\n\t  var sync = {\n\t    id: id,\n\t    updateFirebase: _utils._fsUpdateSyncState.bind(null, ref),\n\t    stateKey: options.state\n\t  };\n\t  (0, _utils._addSync)(options.context, sync, state.syncs);\n\t  options.context.setState = function (data, cb) {\n\t    //if setState is a function, call it first before syncing to fb\n\t    if (typeof data === 'function') {\n\t      return _fsSync.reactSetState.call(options.context, data, function () {\n\t        if (cb) cb.call(options.context);\n\t        return options.context.setState.call(options.context, options.context.state);\n\t      });\n\t    }\n\t    //if callback is supplied, call setState first before syncing to fb\n\t    if (typeof cb === 'function') {\n\t      return _fsSync.reactSetState.call(options.context, data, function () {\n\t        cb();\n\t        return options.context.setState.call(options.context, data);\n\t      });\n\t    }\n\t    var syncsToCall = state.syncs.get(this);\n\t    //if sync does not exist, call original Component.setState\n\t    if (!syncsToCall || syncsToCall.length === 0) {\n\t      return _fsSync.reactSetState.call(this, data, cb);\n\t    }\n\t    //send the update of synced keys to firestore\n\t    var syncedKeys = syncsToCall.map(function (sync) {\n\t      return {\n\t        key: sync.stateKey,\n\t        update: sync.updateFirebase\n\t      };\n\t    });\n\t    syncedKeys.forEach(function (syncedKey) {\n\t      if (data[syncedKey.key]) {\n\t        syncedKey.update(data[syncedKey.key]);\n\t      }\n\t    });\n\t    //send the update of all other keys through setState\n\t    var allKeys = Object.keys(data);\n\t    allKeys.forEach(function (key) {\n\t      var absent = !syncedKeys.find(function (syncedKey) {\n\t        return syncedKey.key === key;\n\t      });\n\t      if (absent) {\n\t        var update = {};\n\t        update[key] = data[key];\n\t        _fsSync.reactSetState.call(options.context, function (currentState) {\n\t          return Object.assign(currentState, update);\n\t        }, cb);\n\t      }\n\t    });\n\t  };\n\t  return (0, _utils._returnRef)(document, 'syncDoc', id, options.context);\n\t}\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = _fsBind;\n\n\tvar _validators = __webpack_require__(5);\n\n\tvar _utils = __webpack_require__(2);\n\n\tfunction _fsBind(path, options, invoker, state) {\n\t  _validators.optionValidators.context(options);\n\t  options.then && (options.then.called = false);\n\t  if (invoker === 'bindDoc') {\n\t    (0, _validators._validateDocumentPath)(path);\n\t  }\n\t  if (invoker === 'bindCollection') {\n\t    _validators.optionValidators.state(options);\n\t    (0, _validators._validateCollectionPath)(path);\n\t  }\n\t  if (invoker === 'listenToDoc') {\n\t    (0, _validators._validateDocumentPath)(path);\n\t    _validators.optionValidators.then(options);\n\t  }\n\t  if (invoker === 'listenToCollection') {\n\t    (0, _validators._validateCollectionPath)(path);\n\t    _validators.optionValidators.then(options);\n\t  }\n\t  var ref = (0, _utils._fsCreateRef)(path, state.db);\n\t  var id = (0, _utils._createHash)(path, invoker);\n\t  (0, _utils._firebaseRefsMixin)(id, ref, state.refs);\n\t  (0, _utils._addFirestoreListener)(id, invoker, options, ref, state.listeners);\n\t  (0, _utils._fsSetUnmountHandler)(options.context, id, state.refs, state.listeners, state.syncs);\n\t  return (0, _utils._returnRef)(path, invoker, id, options.context);\n\t}\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = _fsGet;\n\n\tvar _utils = __webpack_require__(2);\n\n\tvar _validators = __webpack_require__(5);\n\n\tfunction _fsGet(endpoint) {\n\t  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t  var db = arguments[2];\n\n\t  (0, _validators._validateEndpoint)(endpoint);\n\t  var ref = (0, _utils._fsCreateRef)(endpoint, db);\n\t  //check if ref is a collection\n\t  var isCollection = !!ref.add;\n\t  ref = (0, _utils._addFirestoreQuery)(ref, options.query);\n\t  return ref.get().then(function (snapshot) {\n\t    if (isCollection && !snapshot.empty || !isCollection && snapshot.exists) {\n\t      return (0, _utils._fsPrepareData)(snapshot, options, isCollection);\n\t    } else {\n\t      return Promise.reject(new Error('No Result'));\n\t    }\n\t  });\n\t}\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = _fsRemoveDoc;\n\n\tvar _utils = __webpack_require__(2);\n\n\tfunction _fsRemoveDoc(path, db) {\n\t  var ref = (0, _utils._fsCreateRef)(path, db);\n\t  return ref.delete();\n\t}\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = _fsAddToCollection;\n\n\tvar _validators = __webpack_require__(5);\n\n\tvar _utils = __webpack_require__(2);\n\n\tfunction _fsAddToCollection(path, doc, db, key) {\n\t  (0, _validators._validateCollectionPath)(path);\n\t  var ref = (0, _utils._fsCreateRef)(path, db);\n\t  if (key) {\n\t    return ref.doc(key).set(doc);\n\t  }\n\t  return ref.add(doc);\n\t}\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = _fsRemoveFromCollection;\n\n\tvar _validators = __webpack_require__(5);\n\n\tvar _utils = __webpack_require__(2);\n\n\tfunction _fsRemoveFromCollection(path, db) {\n\t  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n\t  (0, _validators._validateCollectionPath)(path);\n\t  var ref = (0, _utils._fsCreateRef)(path, db);\n\t  ref = (0, _utils._addFirestoreQuery)(ref, options.query);\n\t  return ref.get().then(function (snapshot) {\n\t    if (!snapshot.empty) {\n\t      var batch = db.batch();\n\t      snapshot.forEach(function (doc) {\n\t        batch.delete(doc.ref);\n\t      });\n\t      return batch.commit();\n\t    }\n\t  });\n\t}\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = _fsUpdateDoc;\n\n\tvar _validators = __webpack_require__(5);\n\n\tvar _utils = __webpack_require__(2);\n\n\tfunction _fsUpdateDoc(document, data, db) {\n\t  (0, _validators._validateDocumentPath)(document);\n\t  var ref = (0, _utils._fsCreateRef)(document, db);\n\t  return ref.update(data);\n\t}\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = _fsReset;\n\tfunction _fsReset(state) {\n\t  state.listeners.forEach(function (unsubscribe, id) {\n\t    unsubscribe();\n\t  });\n\t  state.listeners = new Map();\n\t  state.refs = new Map();\n\t  state.syncs = new WeakMap();\n\t  return null;\n\t}\n\n/***/ })\n/******/ ])\n});\n;"],"mappings":"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"},"metadata":{},"sourceType":"script"}