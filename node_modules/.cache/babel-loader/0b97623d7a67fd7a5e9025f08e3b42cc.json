{"ast":null,"code":"var utils = require('../utils'),\n  nodes = require('../nodes'),\n  blend = require('./blend'),\n  luminosity = require('./luminosity');\n\n/**\n * Returns the contrast ratio object between `top` and `bottom` colors,\n * based on http://leaverou.github.io/contrast-ratio/\n * and https://github.com/LeaVerou/contrast-ratio/blob/gh-pages/color.js#L108\n *\n * Examples:\n *\n *     contrast(#000, #fff).ratio\n *     => 21\n *\n *     contrast(#000, rgba(#FFF, 0.5))\n *     => { \"ratio\": \"13.15;\", \"error\": \"7.85\", \"min\": \"5.3\", \"max\": \"21\" }\n *\n * @param {RGBA|HSLA} top\n * @param {RGBA|HSLA} [bottom=#fff]\n * @return {Object}\n * @api public\n */\n\nfunction contrast(top, bottom) {\n  if ('rgba' != top.nodeName && 'hsla' != top.nodeName) {\n    return new nodes.Literal('contrast(' + (top.isNull ? '' : top.toString()) + ')');\n  }\n  var result = new nodes.Object();\n  top = top.rgba;\n  bottom = bottom || new nodes.RGBA(255, 255, 255, 1);\n  utils.assertColor(bottom);\n  bottom = bottom.rgba;\n  function contrast(top, bottom) {\n    if (1 > top.a) {\n      top = blend(top, bottom);\n    }\n    var l1 = luminosity(bottom).val + 0.05,\n      l2 = luminosity(top).val + 0.05,\n      ratio = l1 / l2;\n    if (l2 > l1) {\n      ratio = 1 / ratio;\n    }\n    return Math.round(ratio * 10) / 10;\n  }\n  if (1 <= bottom.a) {\n    var resultRatio = new nodes.Unit(contrast(top, bottom));\n    result.set('ratio', resultRatio);\n    result.set('error', new nodes.Unit(0));\n    result.set('min', resultRatio);\n    result.set('max', resultRatio);\n  } else {\n    var processChannel = function processChannel(topChannel, bottomChannel) {\n      return Math.min(Math.max(0, (topChannel - bottomChannel * bottom.a) / (1 - bottom.a)), 255);\n    };\n    var onBlack = contrast(top, blend(bottom, new nodes.RGBA(0, 0, 0, 1))),\n      onWhite = contrast(top, blend(bottom, new nodes.RGBA(255, 255, 255, 1))),\n      max = Math.max(onBlack, onWhite);\n    var closest = new nodes.RGBA(processChannel(top.r, bottom.r), processChannel(top.g, bottom.g), processChannel(top.b, bottom.b), 1);\n    var min = contrast(top, blend(bottom, closest));\n    result.set('ratio', new nodes.Unit(Math.round((min + max) * 50) / 100));\n    result.set('error', new nodes.Unit(Math.round((max - min) * 50) / 100));\n    result.set('min', new nodes.Unit(min));\n    result.set('max', new nodes.Unit(max));\n  }\n  return result;\n}\ncontrast.params = ['top', 'bottom'];\nmodule.exports = contrast;","map":{"version":3,"names":["utils","require","nodes","blend","luminosity","contrast","top","bottom","nodeName","Literal","isNull","toString","result","Object","rgba","RGBA","assertColor","a","l1","val","l2","ratio","Math","round","resultRatio","Unit","set","processChannel","topChannel","bottomChannel","min","max","onBlack","onWhite","closest","r","g","b","params","module","exports"],"sources":["/Users/lisasavoie/Desktop/React-For-Beginners-Starter-Files-master/catch-of-the-day/node_modules/stylus/lib/functions/contrast.js"],"sourcesContent":["var utils = require('../utils')\n  , nodes = require('../nodes')\n  , blend = require('./blend')\n  , luminosity = require('./luminosity');\n\n/**\n * Returns the contrast ratio object between `top` and `bottom` colors,\n * based on http://leaverou.github.io/contrast-ratio/\n * and https://github.com/LeaVerou/contrast-ratio/blob/gh-pages/color.js#L108\n *\n * Examples:\n *\n *     contrast(#000, #fff).ratio\n *     => 21\n *\n *     contrast(#000, rgba(#FFF, 0.5))\n *     => { \"ratio\": \"13.15;\", \"error\": \"7.85\", \"min\": \"5.3\", \"max\": \"21\" }\n *\n * @param {RGBA|HSLA} top\n * @param {RGBA|HSLA} [bottom=#fff]\n * @return {Object}\n * @api public\n */\n\nfunction contrast(top, bottom){\n  if ('rgba' != top.nodeName && 'hsla' != top.nodeName) {\n    return new nodes.Literal('contrast(' + (top.isNull ? '' : top.toString()) + ')');\n  }\n  var result = new nodes.Object();\n  top = top.rgba;\n  bottom = bottom || new nodes.RGBA(255, 255, 255, 1);\n  utils.assertColor(bottom);\n  bottom = bottom.rgba;\n  function contrast(top, bottom) {\n    if (1 > top.a) {\n      top = blend(top, bottom);\n    }\n    var l1 = luminosity(bottom).val + 0.05\n      , l2 = luminosity(top).val + 0.05\n      , ratio = l1 / l2;\n\n    if (l2 > l1) {\n      ratio = 1 / ratio;\n    }\n    return Math.round(ratio * 10) / 10;\n  }\n\n  if (1 <= bottom.a) {\n    var resultRatio = new nodes.Unit(contrast(top, bottom));\n    result.set('ratio', resultRatio);\n    result.set('error', new nodes.Unit(0));\n    result.set('min', resultRatio);\n    result.set('max', resultRatio);\n  } else {\n    var onBlack = contrast(top, blend(bottom, new nodes.RGBA(0, 0, 0, 1)))\n      , onWhite = contrast(top, blend(bottom, new nodes.RGBA(255, 255, 255, 1)))\n      , max = Math.max(onBlack, onWhite);\n    function processChannel(topChannel, bottomChannel) {\n      return Math.min(Math.max(0, (topChannel - bottomChannel * bottom.a) / (1 - bottom.a)), 255);\n    }\n    var closest = new nodes.RGBA(\n      processChannel(top.r, bottom.r),\n      processChannel(top.g, bottom.g),\n      processChannel(top.b, bottom.b),\n      1\n    );\n    var min = contrast(top, blend(bottom, closest));\n\n    result.set('ratio', new nodes.Unit(Math.round((min + max) * 50) / 100));\n    result.set('error', new nodes.Unit(Math.round((max - min) * 50) / 100));\n    result.set('min', new nodes.Unit(min));\n    result.set('max', new nodes.Unit(max));\n  }\n  return result;\n}\ncontrast.params = ['top', 'bottom'];\nmodule.exports = contrast;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}