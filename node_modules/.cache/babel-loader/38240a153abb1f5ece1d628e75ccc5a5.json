{"ast":null,"code":"import _objectSpread from\"/Users/lisasavoie/Desktop/React-For-Beginners-Starter-Files-master/catch-of-the-day/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"/Users/lisasavoie/Desktop/React-For-Beginners-Starter-Files-master/catch-of-the-day/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/lisasavoie/Desktop/React-For-Beginners-Starter-Files-master/catch-of-the-day/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/lisasavoie/Desktop/React-For-Beginners-Starter-Files-master/catch-of-the-day/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/lisasavoie/Desktop/React-For-Beginners-Starter-Files-master/catch-of-the-day/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{formatPrice}from'../helpers';import{TransitionGroup,CSSTransition}from'react-transition-group';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Order=/*#__PURE__*/function(_React$Component){_inherits(Order,_React$Component);var _super=_createSuper(Order);function Order(){var _this;_classCallCheck(this,Order);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.renderOrder=function(key){var fish=_this.props.fishes[key];var count=_this.props.order[key];var isAvailable=fish&&fish.status==='available';var transitionOptions={classNames:\"order\",key:key,timeout:{enter:500,exit:500}};// make sure the fish is loaded before we continue\nif(!fish)return null;if(!isAvailable){return/*#__PURE__*/_jsx(CSSTransition,_objectSpread(_objectSpread({},transitionOptions),{},{children:/*#__PURE__*/_jsxs(\"li\",{children:[\"Sorry \",fish?fish.name:'fish',\" is no longer available\"]},key)}));}return/*#__PURE__*/_jsx(CSSTransition,_objectSpread(_objectSpread({},transitionOptions),{},{children:/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(TransitionGroup,{component:\"span\",className:\"count\",children:/*#__PURE__*/_jsx(CSSTransition,{classNames:\"count\",timeout:{enter:5000,exit:5000},children:/*#__PURE__*/_jsx(\"span\",{children:count})},count)}),\"lbs \",fish.name,formatPrice(count*fish.price),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this.props.removeFromOrder(key);},children:\"\\xD7\"})]})},key)}));};return _this;}_createClass(Order,[{key:\"render\",value:function render(){var _this2=this;var orderIds=Object.keys(this.props.order);var total=orderIds.reduce(function(prevTotal,key){var fish=_this2.props.fishes[key];var count=_this2.props.order[key];var isAvailable=fish&&fish.status==='available';if(isAvailable){return prevTotal+count*fish.price;}return prevTotal;},0);return/*#__PURE__*/_jsxs(\"div\",{className:\"order-wrap\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Order\"}),/*#__PURE__*/_jsx(TransitionGroup,{component:\"ul\",className:\"order\",children:orderIds.map(this.renderOrder)}),/*#__PURE__*/_jsxs(\"div\",{className:\"total\",children:[\"Total:\",/*#__PURE__*/_jsx(\"strong\",{children:formatPrice(total)})]}),/*#__PURE__*/_jsx(\"ul\",{})]});}}]);return Order;}(React.Component);export default Order;","map":{"version":3,"names":["React","formatPrice","TransitionGroup","CSSTransition","Order","renderOrder","key","fish","props","fishes","count","order","isAvailable","status","transitionOptions","classNames","timeout","enter","exit","name","price","removeFromOrder","orderIds","Object","keys","total","reduce","prevTotal","map","Component"],"sources":["/Users/lisasavoie/Desktop/React-For-Beginners-Starter-Files-master/catch-of-the-day/src/components/Order.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from \"prop-types\";\nimport { formatPrice } from '../helpers';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\n\nclass Order extends React.Component {\n  static propTypes = {\n    fishes: PropTypes.object,\n    order: PropTypes.object,\n    removeFromOrder: PropTypes.func\n  }\n  renderOrder = (key) => {\n    const fish = this.props.fishes[key];\n    const count = this.props.order[key];\n    const isAvailable = fish && fish.status === 'available';\n    const transitionOptions = {\n      classNames: \"order\",\n      key,\n      timeout:{ enter: 500, exit: 500 }\n    }\n    // make sure the fish is loaded before we continue\n    if (!fish) return null;\n    if (!isAvailable) {\n      return (\n        <CSSTransition {...transitionOptions}>\n          <li key={key}>\n            Sorry {fish ? fish.name : 'fish'} is no longer available\n          </li>\n        </CSSTransition >\n      );\n    }\n    return (\n      <CSSTransition {...transitionOptions}>\n        <li key={key}>\n          <span>\n            <TransitionGroup component=\"span\" className=\"count\">\n              <CSSTransition classNames=\"count\" key={count} timeout={{ enter: 5000, exit: 5000 }}>\n                <span>{count}</span>\n              </CSSTransition>\n            </TransitionGroup>\n\n            lbs {fish.name}\n            {formatPrice(count * fish.price)} \n            <button onClick={() => this.props.removeFromOrder(key)}>&times;</button>\n          </span>\n        </li>\n      </CSSTransition>\n    );\n  }\n  render() {\n    const orderIds = Object.keys(this.props.order);\n    const total = orderIds.reduce((prevTotal, key) => {\n      const fish = this.props.fishes[key];\n      const count = this.props.order[key];\n      const isAvailable = fish && fish.status === 'available';\n      if (isAvailable) {\n        return prevTotal + count * fish.price;\n      }\n      return prevTotal;\n    }, 0);\n    return (\n      <div className='order-wrap'>\n        <h2>Your Order</h2>\n        <TransitionGroup component=\"ul\" className=\"order\">\n          {orderIds.map(this.renderOrder)}\n        </TransitionGroup>\n\n        <div className=\"total\">\n          Total:\n          <strong>{formatPrice(total)}</strong>\n        </div>\n        <ul>\n\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default Order;"],"mappings":"4zBAAA,MAAOA,MAAK,KAAM,OAAO,CAEzB,OAASC,WAAW,KAAQ,YAAY,CACxC,OAASC,eAAe,CAAEC,aAAa,KAAQ,wBAAwB,CAAC,2FAElEC,MAAK,mUAMTC,WAAW,CAAG,SAACC,GAAG,CAAK,CACrB,GAAMC,KAAI,CAAG,MAAKC,KAAK,CAACC,MAAM,CAACH,GAAG,CAAC,CACnC,GAAMI,MAAK,CAAG,MAAKF,KAAK,CAACG,KAAK,CAACL,GAAG,CAAC,CACnC,GAAMM,YAAW,CAAGL,IAAI,EAAIA,IAAI,CAACM,MAAM,GAAK,WAAW,CACvD,GAAMC,kBAAiB,CAAG,CACxBC,UAAU,CAAE,OAAO,CACnBT,GAAG,CAAHA,GAAG,CACHU,OAAO,CAAC,CAAEC,KAAK,CAAE,GAAG,CAAEC,IAAI,CAAE,GAAI,CAClC,CAAC,CACD;AACA,GAAI,CAACX,IAAI,CAAE,MAAO,KAAI,CACtB,GAAI,CAACK,WAAW,CAAE,CAChB,mBACE,KAAC,aAAa,gCAAKE,iBAAiB,4BAClC,sBAAc,QACN,CAACP,IAAI,CAAGA,IAAI,CAACY,IAAI,CAAG,MAAM,CAAC,yBACnC,GAFSb,GAAG,CAEP,GACU,CAErB,CACA,mBACE,KAAC,aAAa,gCAAKQ,iBAAiB,4BAClC,iCACE,qCACE,KAAC,eAAe,EAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,uBACjD,KAAC,aAAa,EAAC,UAAU,CAAC,OAAO,CAAa,OAAO,CAAE,CAAEG,KAAK,CAAE,IAAI,CAAEC,IAAI,CAAE,IAAK,CAAE,uBACjF,sBAAOR,KAAK,EAAQ,EADiBA,KAAK,CAE5B,EACA,OAEd,CAACH,IAAI,CAACY,IAAI,CACblB,WAAW,CAACS,KAAK,CAAGH,IAAI,CAACa,KAAK,CAAC,cAChC,eAAQ,OAAO,CAAE,yBAAM,OAAKZ,KAAK,CAACa,eAAe,CAACf,GAAG,CAAC,EAAC,UAAC,MAAO,EAAS,GACnE,EAXAA,GAAG,CAYP,GACS,CAEpB,CAAC,uDACD,iBAAS,iBACP,GAAMgB,SAAQ,CAAGC,MAAM,CAACC,IAAI,CAAC,IAAI,CAAChB,KAAK,CAACG,KAAK,CAAC,CAC9C,GAAMc,MAAK,CAAGH,QAAQ,CAACI,MAAM,CAAC,SAACC,SAAS,CAAErB,GAAG,CAAK,CAChD,GAAMC,KAAI,CAAG,MAAI,CAACC,KAAK,CAACC,MAAM,CAACH,GAAG,CAAC,CACnC,GAAMI,MAAK,CAAG,MAAI,CAACF,KAAK,CAACG,KAAK,CAACL,GAAG,CAAC,CACnC,GAAMM,YAAW,CAAGL,IAAI,EAAIA,IAAI,CAACM,MAAM,GAAK,WAAW,CACvD,GAAID,WAAW,CAAE,CACf,MAAOe,UAAS,CAAGjB,KAAK,CAAGH,IAAI,CAACa,KAAK,CACvC,CACA,MAAOO,UAAS,CAClB,CAAC,CAAE,CAAC,CAAC,CACL,mBACE,aAAK,SAAS,CAAC,YAAY,wBACzB,oBAAI,YAAU,EAAK,cACnB,KAAC,eAAe,EAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,UAC9CL,QAAQ,CAACM,GAAG,CAAC,IAAI,CAACvB,WAAW,CAAC,EACf,cAElB,aAAK,SAAS,CAAC,OAAO,WAAC,QAErB,sCAASJ,WAAW,CAACwB,KAAK,CAAC,EAAU,GACjC,cACN,aAEK,GACD,CAEV,CAAC,mBAvEiBzB,KAAK,CAAC6B,SAAS,EA0EnC,cAAezB,MAAK"},"metadata":{},"sourceType":"module"}